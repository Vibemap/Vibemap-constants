"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var Axios=require("axios"),axiosRetry=require("axios-retry"),querystring=require("querystring"),dayjs=require("dayjs"),dayjsRecur=require("dayjs-recur"),isBetween=require("dayjs/plugin/isBetween"),LinearScale=require("linear-scale"),truncate=require("truncate"),turf=require("@turf/helpers"),turf_distance=require("@turf/distance"),turf_boolean=require("@turf/boolean-point-in-polygon"),constants=require("./constants.js"),map=require("./map.js"),vibes=require("./vibes.js"),wordpress=require("./wordpress.js");function _interopDefaultLegacy(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}function _interopNamespace(a){if(a&&a.__esModule)return a;var o=Object.create(null);return a&&Object.keys(a).forEach(function(e){var t;"default"!==e&&(t=Object.getOwnPropertyDescriptor(a,e),Object.defineProperty(o,e,t.get?t:{enumerable:!0,get:function(){return a[e]}}))}),o.default=a,Object.freeze(o)}require("@mapbox/geo-viewport"),require("@turf/meta"),require("@turf/clusters"),require("@turf/bbox-polygon"),require("@turf/center"),require("@turf/truncate"),require("@turf/clusters-dbscan"),require("@turf/points-within-polygon"),require("@turf/rhumb-bearing"),require("@turf/rhumb-distance"),require("@turf/rhumb-destination"),require("fuse.js");var Axios__default=_interopDefaultLegacy(Axios),axiosRetry__default=_interopDefaultLegacy(axiosRetry),querystring__default=_interopDefaultLegacy(querystring),dayjs__default=_interopDefaultLegacy(dayjs),dayjsRecur__default=_interopDefaultLegacy(dayjsRecur),isBetween__default=_interopDefaultLegacy(isBetween),LinearScale__default=_interopDefaultLegacy(LinearScale),truncate__default=_interopDefaultLegacy(truncate),turf__namespace=_interopNamespace(turf),turf_distance__default=_interopDefaultLegacy(turf_distance),turf_boolean__default=_interopDefaultLegacy(turf_boolean),badges=[{slug:"downtown-seattle-challenge",status:"publish",vibe:[],badge_family:[],key:"downtown-seattle-challenge",description:"<p>Explore Downtown Seattle, Find Vibes and Win Prizes.</p>\n",has_location:!0,map:{address:"808 Howell St, Seattle, WA 98101, USA",lat:47.6144042,lng:-122.3340139,city:"Seattle",name:"808 Howell St",zoom:14},icon:{url:"https://vibemap.wpengine.com/wp-content/uploads/2024/09/seattledowntown.png",icon:"https://vibemap.wpengine.com/wp-includes/images/media/default.png"},name:"Downtown Seattle Challenge",location:{ID:1438,post_title:"Seattle",post_name:"seattle"}},{slug:"oakland-ballers",status:"publish",vibe:[6750,2230,5687,7349],badge_family:[],key:"oakland-ballers",description:"<p>Show your Oakland spirit and earn this exclusive badge by supporting the Oakland Ballers at Raimondi Park! Check in at one or as many games as you like from now until the last home game on September 8th. Join us for thrilling nights of cheering, excitement, and vibrant Oakland vibes. By participating, you&#8217;ll not only contribute to the energy of the game but also have the chance to win fantastic prizes. Come on out, have a great time, and celebrate the love for your team!</p>\n",has_location:!0,icon:{url:"https://vibemap.wpengine.com/wp-content/uploads/2024/08/ballers.png",icon:"https://vibemap.wpengine.com/wp-includes/images/media/default.png"},name:"Oakland Ballers",location:{ID:1447,post_title:"Oakland",post_name:"oakland"}},{slug:"downtown-peoria",status:"publish",vibe:[],badge_family:[],key:"downtown-peoria",description:"<p>Explore downtown Peoria, discover amazing places, and earn this badge by checking in, sharing locations, saving them, or adding vibes.</p>\n<p>Win cool prizes and become a Downtown Peoria expert as you find new vibes</p>\n",has_location:!0,map:{address:"Peoria, IL, USA",lat:40.6936488,lng:-89.5889864,city:"Peoria",name:"Peoria",zoom:14},icon:{url:"https://vibemap.wpengine.com/wp-content/uploads/2023/01/Discover-Peoria.jpg",icon:"https://vibemap.wpengine.com/wp-includes/images/media/default.png"},name:"Downtown Peoria",location:{ID:52306,post_title:"Peoria",post_name:"peoria"}},{slug:"riverside_photo_tour",status:"publish",vibe:[],badge_family:[],key:"riverside_photo_tour",description:'<p><span style="font-weight: 400;">Starting at Riverside Common Park, the former site of Toronto&#8217;s first Baseball Grounds and current site of a public park and year-round exciting events and activities, this walk will journey to iconic landmarks in Riverside&#8217;s 10 blocks along Queen Street East.</span></p>\n<p><span style="font-weight: 400;">From the infamous metal art atop the Queen St Viaduct, to historic buildings like The Broadview Hotel, this walk will have you exploring and honing your photography skills!</span></p>\n',has_location:!0,icon:{url:"https://vibemap.wpengine.com/wp-content/uploads/2024/07/Riverside-Badges-Photo-Walk.png",icon:"https://vibemap.wpengine.com/wp-includes/images/media/default.png"},name:"Riverside Photo Walk",location:{ID:51835,post_title:"Toronto",post_name:"toronto"}},{slug:"soma-west-summer-quest-2",status:"publish",vibe:[],badge_family:[],key:"soma-west-summer-quest-2",description:'<p><span style="font-weight: 200;">Embark on a flavor-packed, boozy adventure through San Diego&#8217;s vibrant Gaslamp Quarter with our exclusive Craft Cocktail Crawl. Your ticket to tantalizing tastes and unforgettable experiences awaits! Gather your friends, family, or colleagues and explore at your own pace as you sip your way through unique, handcrafted cocktails at top-notch venues with special discounts along the way. </span></p>\n',has_location:!0,map:{address:"326 8th St, San Francisco, CA 94103, USA",lat:37.7741552,lng:-122.4093969,city:"San Francisco",name:"326 8th St",zoom:14},icon:{url:"https://vibemap.wpengine.com/wp-content/uploads/2024/07/cocktails-scaled.jpeg",icon:"https://vibemap.wpengine.com/wp-includes/images/media/default.png"},name:"Gaslamp Craft Cocktail Crawl",location:{ID:38137,post_title:"San Diego",post_name:"san-diego"}},{slug:"vintage-crawl-badge",status:"publish",vibe:[],badge_family:[],key:"vintage-crawl-badge",description:'<p><span style="font-weight: 400;">On June 20th from 6pm to 10pm, embark on a captivating journey. Explore the best vintage spots on Riverside and unlock the area’s hidden gems with the Vintage Crawl Challenge! Discover places like the Arts Market, the Queen Garden Centre Pop Up!, the Common Sort Store, and more, collecting points as you delve into the hidden gems of  this historic neighbourhood. Explore each spot’s unique story for a chance to win local prizes.</span></p>\n',has_location:!0,icon:{url:"https://vibemap.wpengine.com/wp-content/uploads/2024/05/Riverside-Badges-Vintage-Crawl-1.png",icon:"https://vibemap.wpengine.com/wp-includes/images/media/default.png"},name:"Vintage Crawl",location:{ID:51835,post_title:"Toronto",post_name:"toronto"}},{slug:"soma-west-summer-quest",status:"publish",vibe:[],badge_family:[],key:"soma-west-summer-quest",description:"<p>Join us for the SOMA West Summer Quest Vibemap Challenge and make your summer memorable! From May 27th through August 2024, explore the vibrant SOMA West neighborhood and discover amazing places brimming with unique vibes. Use Vibemap to guide your adventure and support local businesses along the way. Don’t miss out on this exciting opportunity to experience the best of SOMA West!</p>\n",has_location:!0,map:{address:"326 8th St, San Francisco, CA 94103, USA",lat:37.7741552,lng:-122.4093969,city:"San Francisco",name:"326 8th St",zoom:14},icon:{url:"https://vibemap.wpengine.com/wp-content/uploads/2024/06/Badge-08.png",icon:"https://vibemap.wpengine.com/wp-includes/images/media/default.png"},name:"SOMA West Summer Quest",location:{ID:1444,post_title:"San Francisco",post_name:"san-francisco"}},{slug:"riverside-roots-hidden-histories",status:"publish",vibe:[],badge_family:[],key:"riverside-roots-hidden-histories",description:'<p><span style="font-weight: 400;">Explore places like Riverside Common and The Broadview Hotel, earn points, and uncover the area’s history. Each location offers a unique story and a chance to win prizes.<br />\n</span></p>\n',has_location:!0,icon:{url:"https://vibemap.wpengine.com/wp-content/uploads/2024/05/Riverside-Badges-Riverside-Roots.png",icon:"https://vibemap.wpengine.com/wp-includes/images/media/default.png"},name:"Riverside Roots"},{slug:"memphis-downtown-challenge",status:"publish",vibe:[],badge_family:[],key:"memphis-downtown-challenge",description:"<p>Explore Downtown Memphis and Win Prizes.</p>\n",has_location:!0,map:{address:"185 Union Avenue, Memphis, TN, USA",lat:35.1419507,lng:-90.0508504,city:"Memphis",name:"185 Union Ave",zoom:14},icon:{url:"https://vibemap.wpengine.com/wp-content/uploads/2024/04/Downtown-Memphis-Challenge_Badge-08.png",icon:"https://vibemap.wpengine.com/wp-includes/images/media/default.png"},name:"Downtown Memphis Challenge",location:{ID:60877,post_title:"Memphis",post_name:"memphis"}},{slug:"oakland-summer-vibes-badge",status:"publish",vibe:[],badge_family:[],key:"oakland-summer-vibes-badge",description:'<p><span data-sheets-root="1" data-sheets-value="{&quot;1&quot;:2,&quot;2&quot;:&quot;\\nEmbark on an exhilarating journey with the Oakland Summer Vibes Badge, exploring the diverse cultural heritage of Oakland. From the captivating exhibits at the Oakland Museum to the lively ambiance of Roots Stadium, uncover exclusive rewards and unforgettable experiences at every turn.&quot;}" data-sheets-userformat="{&quot;2&quot;:4997,&quot;3&quot;:{&quot;1&quot;:0},&quot;5&quot;:{&quot;1&quot;:[{&quot;1&quot;:2,&quot;2&quot;:0,&quot;5&quot;:{&quot;1&quot;:2,&quot;2&quot;:0}},{&quot;1&quot;:0,&quot;2&quot;:0,&quot;3&quot;:3},{&quot;1&quot;:1,&quot;2&quot;:0,&quot;4&quot;:3}]},&quot;10&quot;:0,&quot;11&quot;:4,&quot;12&quot;:0,&quot;15&quot;:&quot;Arial&quot;}">Embark on an exhilarating journey with the Oakland Summer Vibes Badge, exploring the diverse cultural heritage of Oakland. From the captivating exhibits at the Oakland Museum to the lively ambiance of Roots Stadium, uncover exclusive rewards and unforgettable experiences at every turn.</span></p>\n',has_location:!0,icon:{url:"https://vibemap.wpengine.com/wp-content/uploads/2024/04/OAK_AttractionsBadge_overall-13.png",icon:"https://vibemap.wpengine.com/wp-includes/images/media/default.png"},name:"Oakland Summer Vibes",location:{ID:56488,post_title:"Alameda",post_name:"alameda"}},{slug:"oakland-summer-vibes-badge-2-2-2-2-2",status:"publish",vibe:[],badge_family:[],key:"oakland-summer-vibes-badge-2-2-2-2-2",description:'<p><span data-sheets-root="1" data-sheets-value="{&quot;1&quot;:2,&quot;2&quot;:&quot;Unleash your inner child and discover the magic of Fairyland with the enchanting Fairyland Badge. Engage with the magic of Fairyland to unlock exclusive rewards, from souvenir trinkets to VIP experiences.&quot;}" data-sheets-userformat="{&quot;2&quot;:4997,&quot;3&quot;:{&quot;1&quot;:0},&quot;5&quot;:{&quot;1&quot;:[{&quot;1&quot;:2,&quot;2&quot;:0,&quot;5&quot;:{&quot;1&quot;:2,&quot;2&quot;:0}},{&quot;1&quot;:0,&quot;2&quot;:0,&quot;3&quot;:3},{&quot;1&quot;:1,&quot;2&quot;:0,&quot;4&quot;:3}]},&quot;10&quot;:0,&quot;11&quot;:4,&quot;12&quot;:0,&quot;15&quot;:&quot;Arial&quot;}">Unleash your inner child and discover the magic of Fairyland with the enchanting Fairyland Badge. Engage with the magic of Fairyland to unlock exclusive rewards, from souvenir trinkets to VIP experiences.</span></p>\n',has_location:!0,icon:{url:"https://vibemap.wpengine.com/wp-content/uploads/2024/04/OAK_Attractions-Badges-11.png",icon:"https://vibemap.wpengine.com/wp-includes/images/media/default.png"},name:"Children’s Fairyland",location:{ID:56488,post_title:"Alameda",post_name:"alameda"}},{slug:"oakland-summer-vibes-badge-2-2-2-2",status:"publish",vibe:[],badge_family:[],key:"oakland-summer-vibes-badge-2-2-2-2",description:'<p><span data-sheets-root="1" data-sheets-value="{&quot;1&quot;:2,&quot;2&quot;:&quot;Prepare to be awestruck by the wonders of the cosmos with the Chabot Space &amp; Science Center Badge. Engage with the mysteries of the universe to unlock exclusive rewards, from celestial plushies to family memberships.&quot;}" data-sheets-userformat="{&quot;2&quot;:4997,&quot;3&quot;:{&quot;1&quot;:0},&quot;5&quot;:{&quot;1&quot;:[{&quot;1&quot;:2,&quot;2&quot;:0,&quot;5&quot;:{&quot;1&quot;:2,&quot;2&quot;:0}},{&quot;1&quot;:0,&quot;2&quot;:0,&quot;3&quot;:3},{&quot;1&quot;:1,&quot;2&quot;:0,&quot;4&quot;:3}]},&quot;10&quot;:0,&quot;11&quot;:4,&quot;12&quot;:0,&quot;15&quot;:&quot;Arial&quot;}">Prepare to be awestruck by the wonders of the cosmos with the Chabot Space &amp; Science Center Badge. Engage with the mysteries of the universe to unlock exclusive rewards, from celestial plushies to family memberships.</span></p>\n',has_location:!0,icon:{url:"https://vibemap.wpengine.com/wp-content/uploads/2024/04/OAK_Attractions-Badges-09.png",icon:"https://vibemap.wpengine.com/wp-includes/images/media/default.png"},name:"Chabot Space & Science Center",location:{ID:56488,post_title:"Alameda",post_name:"alameda"}},{slug:"oakland-summer-vibes-badge-2-2-2",status:"publish",vibe:[],badge_family:[],key:"oakland-summer-vibes-badge-2-2-2",description:'<p><span data-sheets-root="1" data-sheets-value="{&quot;1&quot;:2,&quot;2&quot;:&quot;Step into a world of wonder with the Oakland Zoo Badge, where every corner holds a new adventure waiting to be explored. Engage with the exhibits and activities to unlock exclusive rewards, from behind-the-scenes animal encounters to collector\'s items.&quot;}" data-sheets-userformat="{&quot;2&quot;:4997,&quot;3&quot;:{&quot;1&quot;:0},&quot;5&quot;:{&quot;1&quot;:[{&quot;1&quot;:2,&quot;2&quot;:0,&quot;5&quot;:{&quot;1&quot;:2,&quot;2&quot;:0}},{&quot;1&quot;:0,&quot;2&quot;:0,&quot;3&quot;:3},{&quot;1&quot;:1,&quot;2&quot;:0,&quot;4&quot;:3}]},&quot;10&quot;:0,&quot;11&quot;:4,&quot;12&quot;:0,&quot;15&quot;:&quot;Arial&quot;}">Step into a world of wonder with the Oakland Zoo Badge, where every corner holds a new adventure waiting to be explored. Engage with the exhibits and activities to unlock exclusive rewards, from behind-the-scenes animal encounters to collector&#8217;s items.</span></p>\n',has_location:!0,icon:{url:"https://vibemap.wpengine.com/wp-content/uploads/2024/04/OAK_Attractions-Badges-10.png",icon:"https://vibemap.wpengine.com/wp-includes/images/media/default.png"},name:"Oakland Zoo",location:{ID:56488,post_title:"Alameda",post_name:"alameda"}},{slug:"oakland-summer-vibes-badge-2-2",status:"publish",vibe:[],badge_family:[],key:"oakland-summer-vibes-badge-2-2",description:'<p><span data-sheets-root="1" data-sheets-value="{&quot;1&quot;:2,&quot;2&quot;:&quot;Embark on a journey of discovery with the Oakland Roots and Soul Sports Club Badge, where the pulse of the city beats strongest. Dive into the passion of sports culture, earning the chance to win exclusive tickets and merchandise along the way.&quot;}" data-sheets-userformat="{&quot;2&quot;:901,&quot;3&quot;:{&quot;1&quot;:0},&quot;5&quot;:{&quot;1&quot;:[{&quot;1&quot;:2,&quot;2&quot;:0,&quot;5&quot;:{&quot;1&quot;:2,&quot;2&quot;:0}},{&quot;1&quot;:0,&quot;2&quot;:0,&quot;3&quot;:3},{&quot;1&quot;:1,&quot;2&quot;:0,&quot;4&quot;:3}]},&quot;10&quot;:0,&quot;11&quot;:4,&quot;12&quot;:0}">Embark on a journey of discovery with the Oakland Roots and Soul Sports Club Badge, where the pulse of the city beats strongest. Dive into the passion of sports culture, earning the chance to win exclusive tickets and merchandise along the way.</span></p>\n',has_location:!0,icon:{url:"https://vibemap.wpengine.com/wp-content/uploads/2024/04/Frame-12.png",icon:"https://vibemap.wpengine.com/wp-includes/images/media/default.png"},name:"Oakland Roots and Soul Sports Club",location:{ID:56488,post_title:"Alameda",post_name:"alameda"}},{slug:"oakland-summer-vibes-badge-2",status:"publish",vibe:[],badge_family:[],key:"oakland-summer-vibes-badge-2",description:'<p><span data-sheets-root="1" data-sheets-value="{&quot;1&quot;:2,&quot;2&quot;:&quot;Explore the wonders of the Oakland Museum of California, from the Special Exhibition Great Hall to the vibrant Gallery of California Art and History. Don\'t miss out on the lively atmosphere of Friday Nights and the delicious offerings at Town Fare cafe.&quot;}" data-sheets-userformat="{&quot;2&quot;:4997,&quot;3&quot;:{&quot;1&quot;:0},&quot;5&quot;:{&quot;1&quot;:[{&quot;1&quot;:2,&quot;2&quot;:0,&quot;5&quot;:{&quot;1&quot;:2,&quot;2&quot;:0}},{&quot;1&quot;:0,&quot;2&quot;:0,&quot;3&quot;:3},{&quot;1&quot;:1,&quot;2&quot;:0,&quot;4&quot;:3}]},&quot;10&quot;:0,&quot;11&quot;:4,&quot;12&quot;:0,&quot;15&quot;:&quot;Arial&quot;}">Explore the wonders of the Oakland Museum of California, from the Special Exhibition Great Hall to the vibrant Gallery of California Art and History. Don&#8217;t miss out on the lively atmosphere of Friday Nights and the delicious offerings at Town Fare cafe.</span></p>\n',has_location:!0,icon:{url:"https://vibemap.wpengine.com/wp-content/uploads/2024/04/OAK_Attractions-Badges-07.png",icon:"https://vibemap.wpengine.com/wp-includes/images/media/default.png"},name:"Oakland Museum of California",location:{ID:56488,post_title:"Alameda",post_name:"alameda"}},{slug:"unlock-the-heart-of-the-city-gsbs-exclusive-digital-passport",status:"publish",vibe:[],badge_family:[],key:"unlock-the-heart-of-the-city-gsbs-exclusive-digital-passport",description:"<p>GSB (Girl Sustainability Band) is thrilled to collaborate with Vibemap, to bring you our unique Digital Passport! Designed to guide you through a curated selection of unforgettable local experiences, this passport is your key to exploring hidden gems and cultural treasures. Whether you’re an art enthusiast eager to discover local artists, or an adventurer looking to connect with nature, our Digital Passport offers personalized pathways to truly immersive experiences. Get ready to transform the way you travel and create vibes that last a lifetime!</p>\n",has_location:!0,icon:{url:"https://vibemap.wpengine.com/wp-content/uploads/2024/04/unnamed-1.png",icon:"https://vibemap.wpengine.com/wp-includes/images/media/default.png"},name:"Unlock the Heart of the City: GSB’s exclusive Digital Passport!"},{slug:"60686-2-2",status:"publish",vibe:[],badge_family:[],key:"60686-2-2",description:'<p><span style="font-weight: 400;">Unleash your inner shopaholic with our Stop n Shop Badge, your ticket to discovering local treasures and </span><span style="font-weight: 400;">hidden gems near BART stations. From eclectic boutiques to quaint markets, embark on a retail adventure that promises to satisfy every shopper&#8217;s craving for unique finds and stylish delights.</span></p>\n<p>This badge is part of BARTable&#8217;s Transit Treasures: Spring Expedition limited edition badges.</p>\n<p>Not seeing a place you&#8217;d expect? Email us at info@vibemap.com and we&#8217;ll get it added to this badge.</p>\n',has_location:!0,icon:{url:"https://vibemap.wpengine.com/wp-content/uploads/2024/04/BART-Vibemap-badge_Spring-Shopping.png",icon:"https://vibemap.wpengine.com/wp-includes/images/media/default.png"},name:"Stop n Shop Badge",location:{ID:55524,post_title:"San Jose",post_name:"san-jose"}},{slug:"60686-2",status:"publish",vibe:[],badge_family:[],key:"60686-2",description:'<p><span style="font-weight: 400;">Ignite your sense of adventure with our Play all Day Badge, guiding you to local parks, captivating museums, and exciting attractions just a stone&#8217;s throw from BART stations. From serene green spaces to cultural hotspots, embark on a journey of exploration and entertainment, transforming your commute into a thrilling adventure at every stop.</span></p>\n<p>This badge is part of BARTable&#8217;s Transit Treasures: Spring Expedition limited edition badges.</p>\n<p>Not seeing a place you&#8217;d expect? Email us at info@vibemap.com and we&#8217;ll get it added to this badge.</p>\n',has_location:!0,icon:{url:"https://vibemap.wpengine.com/wp-content/uploads/2024/04/BART-Vibemap-badge_Spring-Activities.png",icon:"https://vibemap.wpengine.com/wp-includes/images/media/default.png"},name:"Play all Day Badge",location:{ID:55524,post_title:"San Jose",post_name:"san-jose"}},{slug:"60686",status:"publish",vibe:[],badge_family:[],key:"60686",description:'<p><span style="font-weight: 400;">Unlock a world of culinary delights with our Foodie Frenzy Badge, guiding you to tantalizing food and drink options just a hop, skip, and a BART ride away. Elevate your commute with every bite and sip, transforming your journey into a delicious adventure.</span></p>\n<p>This badge is part of BARTable&#8217;s Transit Treasures: Spring Expedition limited edition badges.</p>\n<p>Not seeing a place you&#8217;d expect? Email us at info@vibemap.com and we&#8217;ll get it added to this badge.</p>\n',has_location:!0,icon:{url:"https://vibemap.wpengine.com/wp-content/uploads/2024/04/BART-Vibemap-badge_Spring-FoodandDrink.png",icon:"https://vibemap.wpengine.com/wp-includes/images/media/default.png"},name:"Foodie Frenzy Badge",location:{ID:55524,post_title:"San Jose",post_name:"san-jose"}},{slug:"oakland-restaurant-week-main-badge",status:"publish",vibe:[],badge_family:[],key:"oakland-restaurant-week-main-badge",description:'<p><span data-sheets-root="1" data-sheets-value="{&quot;1&quot;:2,&quot;2&quot;:&quot;Discover the most delectable restaurants in Oakland through the Oakland Restaurant Week Badge, hosted by Visit Oakland. From March 14 – 24, indulge in exclusive restaurant week specials, menus, and culinary surprises. Earn this badge by checking in to Oakland Restaurant Week particpating places to be in the running for great prizes.\\n&quot;}" data-sheets-userformat="{&quot;2&quot;:7101,&quot;3&quot;:{&quot;1&quot;:0},&quot;5&quot;:{&quot;1&quot;:[{&quot;1&quot;:2,&quot;2&quot;:0,&quot;5&quot;:{&quot;1&quot;:2,&quot;2&quot;:0}},{&quot;1&quot;:0,&quot;2&quot;:0,&quot;3&quot;:3},{&quot;1&quot;:1,&quot;2&quot;:0,&quot;4&quot;:1}]},&quot;6&quot;:{&quot;1&quot;:[{&quot;1&quot;:2,&quot;2&quot;:0,&quot;5&quot;:{&quot;1&quot;:2,&quot;2&quot;:0}},{&quot;1&quot;:0,&quot;2&quot;:0,&quot;3&quot;:3},{&quot;1&quot;:1,&quot;2&quot;:0,&quot;4&quot;:1}]},&quot;7&quot;:{&quot;1&quot;:[{&quot;1&quot;:2,&quot;2&quot;:0,&quot;5&quot;:{&quot;1&quot;:2,&quot;2&quot;:0}},{&quot;1&quot;:0,&quot;2&quot;:0,&quot;3&quot;:3},{&quot;1&quot;:1,&quot;2&quot;:0,&quot;4&quot;:1}]},&quot;8&quot;:{&quot;1&quot;:[{&quot;1&quot;:2,&quot;2&quot;:0,&quot;5&quot;:{&quot;1&quot;:2,&quot;2&quot;:0}},{&quot;1&quot;:0,&quot;2&quot;:0,&quot;3&quot;:3},{&quot;1&quot;:1,&quot;2&quot;:0,&quot;4&quot;:1}]},&quot;10&quot;:0,&quot;11&quot;:4,&quot;12&quot;:0,&quot;14&quot;:{&quot;1&quot;:2,&quot;2&quot;:0},&quot;15&quot;:&quot;\\&quot;Public Sans\\&quot;, sans-serif&quot;}">Discover the most delectable restaurants in Oakland through the Oakland Restaurant Week Badge, hosted by Visit Oakland. From March 14 – 24, indulge in exclusive restaurant week specials, menus, and culinary surprises. Earn this badge by checking in to Oakland Restaurant Week participating places to be in the running for great prizes.<br />\n</span></p>\n',has_location:!0,icon:{url:"https://vibemap.wpengine.com/wp-content/uploads/2024/02/ORW_FinalEmblems-21.png",icon:"https://vibemap.wpengine.com/wp-includes/images/media/default.png"},name:"Oakland Restaurant Week Badge",location:{ID:1447,post_title:"Oakland",post_name:"oakland"}},{slug:"oakland-restaurant-week-dining-for-justice-badge",status:"publish",vibe:[],badge_family:[],key:"oakland-restaurant-week-dining-for-justice-badge",description:"<p>Eat local; give local with this badge, hosted by Community Kitchen&#8217;s Dining For Justice program. Discover Oakland Restaurant Week spots that support their community by helping feed Oakland. Earn this badge by checking in to Dining for Justice spots participating in Oakland Restaurant Week. This badge is available during Oakland Restaurant Week, March 14-24.</p>\n",has_location:!0,icon:{url:"https://vibemap.wpengine.com/wp-content/uploads/2024/02/ORW_FinalEmblems-23.png",icon:"https://vibemap.wpengine.com/wp-includes/images/media/default.png"},name:"Dining for Justice Badge",location:{ID:1447,post_title:"Oakland",post_name:"oakland"}},{slug:"oakland-restaurant-week-award-winning-badge",status:"publish",vibe:[],badge_family:[],key:"oakland-restaurant-week-award-winning-badge",description:"<p>Celebrate the accomplishments of Oakland&#8217;s award-winning restaurants participating in Oakland Restaurant Week. Each of these places have earned Michelin awards for their culinary prowess. Earn this badge by checking in to award-winning spots participating in Oakland Restaurant Week. This badge is available during Oakland Restaurant Week, March 14-24.</p>\n",has_location:!0,icon:{url:"https://vibemap.wpengine.com/wp-content/uploads/2024/02/ORW_FinalEmblems-24-1.png",icon:"https://vibemap.wpengine.com/wp-includes/images/media/default.png"},name:"Award-Winning Badge",location:{ID:1447,post_title:"Oakland",post_name:"oakland"}},{slug:"oakland-restaurant-week-fresh-flavors-badge",status:"publish",vibe:[],badge_family:[],key:"oakland-restaurant-week-fresh-flavors-badge",description:'<p><span data-sheets-root="1" data-sheets-value="{&quot;1&quot;:2,&quot;2&quot;:&quot;Hot off the presses! These spots are new to Oakland Restaurant Week this year and worth a try! Earn this badge by checking in to new spots particpating in Oakland Restaurant Week.\\n\\nThis badge is available during Oakland Restaurant Week, March 14-24.&quot;}" data-sheets-userformat="{&quot;2&quot;:7101,&quot;3&quot;:{&quot;1&quot;:0},&quot;5&quot;:{&quot;1&quot;:[{&quot;1&quot;:2,&quot;2&quot;:0,&quot;5&quot;:{&quot;1&quot;:2,&quot;2&quot;:0}},{&quot;1&quot;:0,&quot;2&quot;:0,&quot;3&quot;:3},{&quot;1&quot;:1,&quot;2&quot;:0,&quot;4&quot;:1}]},&quot;6&quot;:{&quot;1&quot;:[{&quot;1&quot;:2,&quot;2&quot;:0,&quot;5&quot;:{&quot;1&quot;:2,&quot;2&quot;:0}},{&quot;1&quot;:0,&quot;2&quot;:0,&quot;3&quot;:3},{&quot;1&quot;:1,&quot;2&quot;:0,&quot;4&quot;:1}]},&quot;7&quot;:{&quot;1&quot;:[{&quot;1&quot;:2,&quot;2&quot;:0,&quot;5&quot;:{&quot;1&quot;:2,&quot;2&quot;:0}},{&quot;1&quot;:0,&quot;2&quot;:0,&quot;3&quot;:3},{&quot;1&quot;:1,&quot;2&quot;:0,&quot;4&quot;:1}]},&quot;8&quot;:{&quot;1&quot;:[{&quot;1&quot;:2,&quot;2&quot;:0,&quot;5&quot;:{&quot;1&quot;:2,&quot;2&quot;:0}},{&quot;1&quot;:0,&quot;2&quot;:0,&quot;3&quot;:3},{&quot;1&quot;:1,&quot;2&quot;:0,&quot;4&quot;:1}]},&quot;10&quot;:0,&quot;11&quot;:4,&quot;12&quot;:0,&quot;14&quot;:{&quot;1&quot;:2,&quot;2&quot;:0},&quot;15&quot;:&quot;\\&quot;Public Sans\\&quot;, sans-serif&quot;}">Hot off the presses! These spots are new to Oakland Restaurant Week this year and worth a try! Earn this badge by checking in to new spots particpating in Oakland Restaurant Week.</span></p>\n<p>This badge is available during Oakland Restaurant Week, March 14-24.</p>\n',has_location:!0,icon:{url:"https://vibemap.wpengine.com/wp-content/uploads/2024/02/ORW_FinalEmblems-22.png",icon:"https://vibemap.wpengine.com/wp-includes/images/media/default.png"},name:"Fresh Flavors Badge",location:{ID:1447,post_title:"Oakland",post_name:"oakland"}},{slug:"oakland-restaurant-week-food-critic-badge",status:"publish",vibe:[],badge_family:[],key:"oakland-restaurant-week-food-critic-badge",description:'<p><span data-sheets-root="1" data-sheets-value="{&quot;1&quot;:2,&quot;2&quot;:&quot;Let us know what you love about Oakland Restaurant Week spots! Earn this badge by leaving vibes or tips about particpating places - remember, good vibes only! \\n\\nThis badge is available during Oakland Restaurant Week, March 14-24.&quot;}" data-sheets-userformat="{&quot;2&quot;:7101,&quot;3&quot;:{&quot;1&quot;:0},&quot;5&quot;:{&quot;1&quot;:[{&quot;1&quot;:2,&quot;2&quot;:0,&quot;5&quot;:{&quot;1&quot;:2,&quot;2&quot;:0}},{&quot;1&quot;:0,&quot;2&quot;:0,&quot;3&quot;:3},{&quot;1&quot;:1,&quot;2&quot;:0,&quot;4&quot;:1}]},&quot;6&quot;:{&quot;1&quot;:[{&quot;1&quot;:2,&quot;2&quot;:0,&quot;5&quot;:{&quot;1&quot;:2,&quot;2&quot;:0}},{&quot;1&quot;:0,&quot;2&quot;:0,&quot;3&quot;:3},{&quot;1&quot;:1,&quot;2&quot;:0,&quot;4&quot;:1}]},&quot;7&quot;:{&quot;1&quot;:[{&quot;1&quot;:2,&quot;2&quot;:0,&quot;5&quot;:{&quot;1&quot;:2,&quot;2&quot;:0}},{&quot;1&quot;:0,&quot;2&quot;:0,&quot;3&quot;:3},{&quot;1&quot;:1,&quot;2&quot;:0,&quot;4&quot;:1}]},&quot;8&quot;:{&quot;1&quot;:[{&quot;1&quot;:2,&quot;2&quot;:0,&quot;5&quot;:{&quot;1&quot;:2,&quot;2&quot;:0}},{&quot;1&quot;:0,&quot;2&quot;:0,&quot;3&quot;:3},{&quot;1&quot;:1,&quot;2&quot;:0,&quot;4&quot;:1}]},&quot;10&quot;:0,&quot;11&quot;:4,&quot;12&quot;:0,&quot;14&quot;:{&quot;1&quot;:2,&quot;2&quot;:0},&quot;15&quot;:&quot;\\&quot;Public Sans\\&quot;, sans-serif&quot;}">Let us know what you love about Oakland Restaurant Week spots! Earn this badge by leaving vibes or tips about participating places. Remember, good vibes only!</span></p>\n<p>This badge is available during Oakland Restaurant Week, March 14-24.</p>\n',has_location:!0,icon:{url:"https://vibemap.wpengine.com/wp-content/uploads/2024/02/ORW_FinalEmblems-25-1.png",icon:"https://vibemap.wpengine.com/wp-includes/images/media/default.png"},name:"Food Critic Badge",location:{ID:1447,post_title:"Oakland",post_name:"oakland"}},{slug:"oakland-restaurant-week-social-coordinator-badge",status:"publish",vibe:[],badge_family:[],key:"oakland-restaurant-week-social-coordinator-badge",description:'<p><span data-sheets-root="1" data-sheets-value="{&quot;1&quot;:2,&quot;2&quot;:&quot;Bring friends and family together this Oakland Restaurant week with the Social Coordinator Badge. Earn this badge by sharing places with friends and family and saving places you plan on visiting.\\n\\nThis badge is available during Oakland Restaurant Week, March 14-24.&quot;}" data-sheets-userformat="{&quot;2&quot;:7101,&quot;3&quot;:{&quot;1&quot;:0},&quot;5&quot;:{&quot;1&quot;:[{&quot;1&quot;:2,&quot;2&quot;:0,&quot;5&quot;:{&quot;1&quot;:2,&quot;2&quot;:0}},{&quot;1&quot;:0,&quot;2&quot;:0,&quot;3&quot;:3},{&quot;1&quot;:1,&quot;2&quot;:0,&quot;4&quot;:1}]},&quot;6&quot;:{&quot;1&quot;:[{&quot;1&quot;:2,&quot;2&quot;:0,&quot;5&quot;:{&quot;1&quot;:2,&quot;2&quot;:0}},{&quot;1&quot;:0,&quot;2&quot;:0,&quot;3&quot;:3},{&quot;1&quot;:1,&quot;2&quot;:0,&quot;4&quot;:1}]},&quot;7&quot;:{&quot;1&quot;:[{&quot;1&quot;:2,&quot;2&quot;:0,&quot;5&quot;:{&quot;1&quot;:2,&quot;2&quot;:0}},{&quot;1&quot;:0,&quot;2&quot;:0,&quot;3&quot;:3},{&quot;1&quot;:1,&quot;2&quot;:0,&quot;4&quot;:1}]},&quot;8&quot;:{&quot;1&quot;:[{&quot;1&quot;:2,&quot;2&quot;:0,&quot;5&quot;:{&quot;1&quot;:2,&quot;2&quot;:0}},{&quot;1&quot;:0,&quot;2&quot;:0,&quot;3&quot;:3},{&quot;1&quot;:1,&quot;2&quot;:0,&quot;4&quot;:1}]},&quot;10&quot;:0,&quot;11&quot;:4,&quot;12&quot;:0,&quot;14&quot;:{&quot;1&quot;:2,&quot;2&quot;:0},&quot;15&quot;:&quot;\\&quot;Public Sans\\&quot;, sans-serif&quot;}">Bring friends and family together this Oakland Restaurant week with the Social Coordinator Badge. Earn this badge by sharing places with friends and family and saving places you plan on visiting.</span></p>\n<p>This badge is available during Oakland Restaurant Week, March 14-24.</p>\n',has_location:!0,icon:{url:"https://vibemap.wpengine.com/wp-content/uploads/2024/02/ORW_FinalEmblems-26-1.png",icon:"https://vibemap.wpengine.com/wp-includes/images/media/default.png"},name:"Social Coordinator Badge",location:{ID:1447,post_title:"Oakland",post_name:"oakland"}},{slug:"san-diego-downtown-challenge",status:"publish",vibe:[],badge_family:[],key:"san-diego-downtown-challenge",description:"<p>Explore Downtown San Diego and Win Prizes.</p>\n",has_location:!0,map:{address:"The Westgate Hotel, 2nd Avenue, San Diego, CA, USA",lat:32.7162931,lng:-117.1624272,city:"San Diego",name:"The Westgate Hotel",zoom:14},icon:{url:"https://vibemap.wpengine.com/wp-content/uploads/2024/02/Downtown-San-Diego-Challenge_Badge.jpg",icon:"https://vibemap.wpengine.com/wp-includes/images/media/default.png"},name:"San Diego Downtown Challenge",location:{ID:38137,post_title:"San Diego",post_name:"san-diego"}},{slug:"207-day-weekend-scavenger-hunt",status:"publish",vibe:[],badge_family:[],key:"207-day-weekend-scavenger-hunt",description:"<p>It&#8217;s time! To unlock this badge, check in to local participating businesses and answer the riddles with a photo. Hosted by Portland Downtown, the 207 Day Weekend Scavenger Hunt, held on February 3rd and 4th is a virtual, self-guided scavenger hunt and it’s the perfect way to support local businesses, uncover hidden gems, and really embrace the 207 area code!</p>\n",has_location:!0,icon:{url:"https://vibemap.wpengine.com/wp-content/uploads/2024/01/207-Day-Weekend-Scavenger-Hunt.jpg",icon:"https://vibemap.wpengine.com/wp-includes/images/media/default.png"},name:"207 Day Weekend Scavenger Hunt",location:{ID:59015,post_title:"Portland, ME",post_name:"portland-me"}},{slug:"lake-merritt-station",status:"publish",vibe:[],badge_family:[15964],key:"lake-merritt-station",description:"<p>Unlock prizes and embrace local adventures while you explore the Lake Merritt BART Station.</p>\n",has_location:!0,map:{address:"Lake Merritt Station, Oak Street, Oakland, CA, USA",lat:37.7970287,lng:-122.2652155,city:"Oakland",name:"Lake Merritt",zoom:14},icon:{url:"https://vibemap.wpengine.com/wp-content/uploads/2023/12/BART-Vibemap-badge_LakeMerritt.png",icon:"https://vibemap.wpengine.com/wp-includes/images/media/default.png"},name:"Lake Merritt Sleigh Badge",location:{ID:1447,post_title:"Oakland",post_name:"oakland"}},{slug:"macarthur-station-badge",status:"publish",vibe:[],badge_family:[15964],key:"macarthur-station-badge",description:"<p>Unlock prizes and embrace local adventures while you explore the MacArthur BART Station.</p>\n",has_location:!0,map:{address:"MacArthur BART Station/Oakland, 40th Street, Oakland, CA, USA",lat:37.8288,lng:-122.2671,city:"Oakland",name:"MacArthur Station",zoom:14},icon:{url:"https://vibemap.wpengine.com/wp-content/uploads/2023/12/BART-Vibemap-badge_MacArthur.png",icon:"https://vibemap.wpengine.com/wp-includes/images/media/default.png"},name:"MacArthur Spirit Badge",location:{ID:1447,post_title:"Oakland",post_name:"oakland"}},{slug:"west-dublin-pleasanton-station",status:"publish",vibe:[],badge_family:[15964],key:"west-dublin-pleasanton-station",description:"<p>Unlock prizes and embrace local adventures while you explore the West Dublin/Pleasanton BART Station.</p>\n",has_location:!0,map:{address:"Dublin / Pleasanton BART Station, Owens Drive, Pleasanton, CA, USA",lat:37.7016477,lng:-121.8992171,city:"Pleasanton",name:"Dublin / Pleasanton BART Station",zoom:14},icon:{url:"https://vibemap.wpengine.com/wp-content/uploads/2023/12/BART-Vibemap-badge_WestDublin-Pleasanton.png",icon:"https://vibemap.wpengine.com/wp-includes/images/media/default.png"},name:"West Dublin/Pleasanton Wonderland Badge",location:{ID:1447,post_title:"Oakland",post_name:"oakland"}},{slug:"walnut-creek-station",status:"publish",vibe:[],badge_family:[15964],key:"walnut-creek-station",description:"<p>Unlock prizes and embrace local adventures while you explore the Walnut Creek BART Station.</p>\n",has_location:!0,map:{address:"Walnut Creek BART Station, Ygnacio Valley Road, Walnut Creek, CA, USA",lat:37.90579,lng:-122.06733,city:"Walnut Creek",name:"Walnut Creek",zoom:14},icon:{url:"https://vibemap.wpengine.com/wp-content/uploads/2023/12/BART-Vibemap-badge_WalnutCreek.png",icon:"https://vibemap.wpengine.com/wp-includes/images/media/default.png"},name:"Whoville Walnut Creek Badge",location:{ID:1447,post_title:"Oakland",post_name:"oakland"}},{slug:"downtown-berkeley-station",status:"publish",vibe:[],badge_family:[15964],key:"downtown-berkeley-station",description:"<p>Unlock prizes and embrace local adventures while you explore the Downtown Berkeley BART Station.</p>\n",has_location:!0,map:{address:"Downtown Berkeley BART Plaza, Shattuck Avenue, Berkeley, CA, USA",lat:37.8698617,lng:-122.2683576,city:"Berkeley",name:"Downtown Berkeley BART Plaza",zoom:14},icon:{url:"https://vibemap.wpengine.com/wp-content/uploads/2023/12/BART-Vibemap-badge_DowntownBerkeley.png",icon:"https://vibemap.wpengine.com/wp-includes/images/media/default.png"},name:"Joy to Downtown Berkeley Badge",location:{ID:1447,post_title:"Oakland",post_name:"oakland"}},{slug:"57870",status:"publish",vibe:[],badge_family:[15964],key:"57870",description:"<p>Unlock prizes and embrace local adventures while you explore the Fruitvale BART Station.</p>\n",has_location:!0,map:{address:"Fruitvale BART: Oakland, East 12th Street, Oakland, CA, USA",lat:37.77479340000001,lng:-122.2241121,city:"Oakland",name:"Fruitvale",zoom:14},icon:{url:"https://vibemap.wpengine.com/wp-content/uploads/2023/12/BART-Vibemap-badge_Fruitvale.png",icon:"https://vibemap.wpengine.com/wp-includes/images/media/default.png"},name:"Festive Fruitvale Badge",location:{ID:1447,post_title:"Oakland",post_name:"oakland"}},{slug:"montgomery-station-badge",status:"publish",vibe:[],badge_family:[15964],key:"montgomery-station-badge",description:"<p>Unlock prizes and embrace local adventures while you explore the Montgomery BART Station.</p>\n",has_location:!0,map:{address:"Montgomery Station, Market Street, San Francisco, CA, USA",lat:37.7893598,lng:-122.4013317,city:"San Francisco",name:"Montgomery Station",zoom:14},icon:{url:"https://vibemap.wpengine.com/wp-content/uploads/2023/12/BART-Vibemap-badge_Montgomery.png",icon:"https://vibemap.wpengine.com/wp-includes/images/media/default.png"},name:"Merry Montgomery Badge",location:{ID:1447,post_title:"Oakland",post_name:"oakland"}},{slug:"harlem-light-it-up-challenge",status:"publish",vibe:[],badge_family:[],key:"harlem-light-it-up-challenge",description:'<p><span style="font-weight: 200;">Join the </span><b>Shine on Harlem Challenge </b><span style="font-weight: 200;">and experience the dazzling light and sound displays along 125th Street. Starting November 14th and continuing through March 2024, use Vibemap to explore interactive musical trees and support local businesses. </span></p>\n',has_location:!0,map:{address:"W 125 St/Adam C Powell Bl, New York, NY 10027, USA",lat:40.80896954241912,lng:-73.94824504852295,city:"New York",zoom:15},icon:{url:"https://vibemap.wpengine.com/wp-content/uploads/2023/10/ShineOnHarlem-01.png",icon:"https://vibemap.wpengine.com/wp-includes/images/media/default.png"},name:"Shine On, Harlem Challenge",location:{ID:38143,post_title:"New York",post_name:"new-york"}},{slug:"the-barty-badge",status:"publish",vibe:[],badge_family:[15964],key:"the-barty-badge",description:"<p>Explore the Bay Area on BART this holiday and Win Prizes.</p>\n",has_location:!0,icon:{url:"https://vibemap.wpengine.com/wp-content/uploads/2023/09/VibeMap_HolidayHero_1200x675_withsnow-2.jpg",icon:"https://vibemap.wpengine.com/wp-includes/images/media/default.png"},name:"The BARTy Badge",location:{ID:1447,post_title:"Oakland",post_name:"oakland"}},{slug:"check-in-challenge-foster-powell",status:"publish",vibe:[],badge_family:[],key:"check-in-challenge-foster-powell",description:"",has_location:!0,icon:{url:"https://vibemap.wpengine.com/wp-content/uploads/2020/08/no_image_placeholder.png",icon:"https://vibemap.wpengine.com/wp-includes/images/media/default.png"},name:"Check in Challenge Foster Powell",location:{ID:1441,post_title:"Portland",post_name:"portland-or"}},{slug:"downtown-challenge-chicago",status:"publish",vibe:[],badge_family:[],key:"downtown-challenge-chicago",description:"<p>Explore Downtown Chicago and Win Prizes.</p>\n",has_location:!0,icon:{url:"https://vibemap.wpengine.com/wp-content/uploads/2023/09/Downtown-Chicago-Challenge_Badge-04.png",icon:"https://vibemap.wpengine.com/wp-includes/images/media/default.png"},name:"Downtown Challenge Chicago",location:{ID:38148,post_title:"Chicago",post_name:"chicago"}},{slug:"downtown-portland-summer-challenge",status:"publish",vibe:[],badge_family:[],key:"downtown-portland-summer-challenge",description:"<p>Unlock prizes and embrace local adventures while you explore Downtown Portland this summer.</p>\n",has_location:!0,map:{address:"Downtown Portland, Portland, OR, USA",lat:45.5173454,lng:-122.6835562,city:"Portland",name:"Portland Downtown",zoom:14},icon:{url:"https://vibemap.wpengine.com/wp-content/uploads/2020/06/Vibemap_City_Portland-17.jpg",icon:"https://vibemap.wpengine.com/wp-includes/images/media/default.png"},name:"Downtown Portland Summer Challenge",location:{ID:1441,post_title:"Portland",post_name:"portland-or"}},{slug:"downtown-oakland-summer-challenge",status:"publish",vibe:[],badge_family:[10810],key:"downtown-oakland-summer-challenge",description:"<p>Unlock prizes and embrace local adventures while you explore Downtown Oakland this summer. This challenge runs now through August 21st, 2023!</p>\n",has_location:!0,map:{address:"Oakland, CA, USA",lat:37.8043514,lng:-122.2711639,city:"Oakland",name:"Oakland",zoom:14},icon:{url:"https://vibemap.wpengine.com/wp-content/uploads/2023/05/Downtown-Oakland-Challenge_Badge-01-3.jpg",icon:"https://vibemap.wpengine.com/wp-includes/images/media/default.png"},name:"Downtown Oakland Summer Challenge",location:{ID:1447,post_title:"Oakland",post_name:"oakland"}},{slug:"art-about-town-treasure-hunt-general",status:"publish",vibe:[],badge_family:[],key:"art-about-town-treasure-hunt-general",description:"<p>Grab your map, don your artistic spirit, and let the exploration begin!</p>\n",has_location:!0,icon:{url:"https://vibemap.wpengine.com/wp-content/uploads/2023/05/Art-About-Town-Treasure-Hunt-Badge-Vibemap-Small.jpg",icon:"https://vibemap.wpengine.com/wp-includes/images/media/default.png"},name:"Art About Town Treasure Hunt ",location:{ID:1447,post_title:"Oakland",post_name:"oakland"}},{slug:"art-about-town-treasure-hunt-2",status:"publish",vibe:[],badge_family:[],key:"art-about-town-treasure-hunt-2",description:"<p>Grab your map, don your artistic spirit, and let the exploration begin!</p>\n",has_location:!0,icon:{url:"https://vibemap.wpengine.com/wp-content/uploads/2023/05/Art-About-Town-Treasure-Hunt-Badge-East-Bay-Small.jpg",icon:"https://vibemap.wpengine.com/wp-includes/images/media/default.png"},name:"Art About Town Treasure Hunt East Bay",location:{ID:1447,post_title:"Oakland",post_name:"oakland"}},{slug:"art-about-town-treasure-hunt-berkeley",status:"publish",vibe:[],badge_family:[],key:"art-about-town-treasure-hunt-berkeley",description:"<p>Grab your map, don your artistic spirit, and let the exploration begin!</p>\n",has_location:!0,icon:{url:"https://vibemap.wpengine.com/wp-content/uploads/2023/05/Art-About-Town-Treasure-Hunt-Badge-Berkeley-Small.jpg",icon:"https://vibemap.wpengine.com/wp-includes/images/media/default.png"},name:"Art About Town Treasure Hunt Berkeley",location:{ID:1447,post_title:"Oakland",post_name:"oakland"}},{slug:"art-about-town-treasure-hunt",status:"publish",vibe:[],badge_family:[],key:"art-about-town-treasure-hunt",description:"<p>Grab your map, don your artistic spirit, and let the exploration begin!</p>\n",has_location:!0,icon:{url:"https://vibemap.wpengine.com/wp-content/uploads/2023/05/Art-About-Town-Treasure-Hunt-Badge-Oakland-Small.jpg",icon:"https://vibemap.wpengine.com/wp-includes/images/media/default.png"},name:"Art About Town Treasure Hunt Oakland",location:{ID:1447,post_title:"Oakland",post_name:"oakland"}},{slug:"56132",status:"publish",vibe:[],badge_family:[],key:"56132",description:"<p>Explore Downtown San Jose and Win Prizes.</p>\n",has_location:!0,icon:{url:"https://vibemap.wpengine.com/wp-content/uploads/2023/03/50932693_10161385073470364_2256098350099070976_n.jpg",icon:"https://vibemap.wpengine.com/wp-includes/images/media/default.png"},name:"San Jose Downtown Challenge",location:{ID:55524,post_title:"San Jose",post_name:"san-jose"}},{slug:"dvbia",status:"publish",vibe:[],badge_family:[],key:"dvbia",description:"<p>Unlock specials and win prizes by joining the downtown Vancouver Neighborhood Challenge</p>\n",has_location:!0,icon:{url:"https://vibemap.wpengine.com/wp-content/uploads/2023/03/Vancouver-01.jpg",icon:"https://vibemap.wpengine.com/wp-includes/images/media/default.png"},name:"downtown Vancouver Neighbourhood Challenge",location:{ID:1435,post_title:"Vancouver",post_name:"vancouver"}},{slug:"52322",status:"publish",vibe:[],badge_family:[],key:"52322",description:"",has_location:!1,icon:{url:"https://vibemap.wpengine.com/wp-content/uploads/2022/07/knowledge.jpg",icon:"https://vibemap.wpengine.com/wp-includes/images/media/default.png"},name:"Know it All"},{slug:"the-curator",status:"publish",vibe:[],badge_family:[],key:"the-curator",description:"",has_location:!1,icon:{url:"https://vibemap.wpengine.com/wp-content/uploads/2020/08/no_image_placeholder.png",icon:"https://vibemap.wpengine.com/wp-includes/images/media/default.png"},name:"The Curator"},{slug:"downtown-scavenger-hunt",status:"publish",vibe:[],badge_family:[],key:"downtown-scavenger-hunt",description:"",has_location:!0,map:{address:"Downtown Oakland, Oakland, CA, USA",lat:37.8032973,lng:-122.2710602,city:"Oakland",name:"Downtown Oakland",zoom:14},icon:{url:"https://vibemap.wpengine.com/wp-content/uploads/2020/12/Vibemap-Gradient.jpg",icon:"https://vibemap.wpengine.com/wp-includes/images/media/default.png"},name:"Downtown Scavenger Hunt",location:{ID:1447,post_title:"Oakland",post_name:"oakland"}},{slug:"hidden-gem",status:"publish",type:"catch a vibe",vibe:[],badge_family:[10815,10808,10807,10810,10811,10809,10806],key:"hidden-gem",description:"<p>Take the road less traveled. Save, check in and add a tip to tucked away spots to earn your Hidden Gems Badge.</p>\n<p>&nbsp;</p>\n",has_location:!1,icon:{url:"https://vibemap.wpengine.com/wp-content/uploads/2022/06/Hidden-Gem-Badge.jpg",icon:"https://vibemap.wpengine.com/wp-includes/images/media/default.png"},name:"Hidden Gem"},{slug:"togetherness",status:"publish",type:"catch a vibe",vibe:[],badge_family:[],key:"togetherness",description:"<p>Belonging through intimacy and love. Save, check in and add a tip to these spaces of love &amp; belonging to earn your Togetherness Badge.</p>\n",has_location:!1,icon:{url:"https://vibemap.wpengine.com/wp-content/uploads/2022/05/Togetherness-Badge.jpg",icon:"https://vibemap.wpengine.com/wp-includes/images/media/default.png"},name:"Togetherness "},{slug:"quiet-energy",status:"publish",type:"catch a vibe",vibe:[],badge_family:[],key:"quiet-energy",description:"<p>Happiness comes from within. Save, check in and add a tip to these mellow-making environments to earn your Quiet Energy Badge.</p>\n",has_location:!1,icon:{url:"https://vibemap.wpengine.com/wp-content/uploads/2022/05/Quiet-Energy-Badge.jpg",icon:"https://vibemap.wpengine.com/wp-includes/images/media/default.png"},name:"Quiet Energy"},{slug:"playtime",status:"publish",type:"catch a vibe",vibe:[],badge_family:[],key:"playtime",description:"<p>Energetic, buzzing, vibrant. Save, check in and add a tip to these fun time spots to earn your Playtime Badge.</p>\n",has_location:!1,icon:{url:"https://vibemap.wpengine.com/wp-content/uploads/2022/05/Playtime-Badge.jpg",icon:"https://vibemap.wpengine.com/wp-includes/images/media/default.png"},name:"Playtime"},{slug:"old-school",status:"publish",type:"catch a vibe",vibe:[],badge_family:[],key:"old-school",description:"<p>Listening to the past. Save, check in and add a tip to classic, tried-and-true spots to earn your Old School Badge.</p>\n<p>&nbsp;</p>\n",has_location:!1,icon:{url:"https://vibemap.wpengine.com/wp-content/uploads/2022/05/Old-School-Badge.jpg",icon:"https://vibemap.wpengine.com/wp-includes/images/media/default.png"},name:"Old School"},{slug:"solidarity",status:"publish",type:"catch a vibe",vibe:[],badge_family:[],key:"solidarity",description:"<p>Everyone’s dreams come true. Save, check in and add a tip to these community-oriented spots to earn your Solidarity Badge.</p>\n<p>&nbsp;</p>\n",has_location:!1,icon:{url:"https://vibemap.wpengine.com/wp-content/uploads/2022/05/Solidarity-Badge.jpg",icon:"https://vibemap.wpengine.com/wp-includes/images/media/default.png"},name:"Solidarity"},{slug:"bff-mockup",status:"publish",type:"general",vibe:[],badge_family:[],key:"bff-mockup",description:"<p>Check-in, save, add vibes &amp; add tips about these historical music landmarks in San Francisco to earn your SF Music Badge.</p>\n",has_location:!0,icon:{url:"https://vibemap.wpengine.com/wp-content/uploads/2020/08/no_image_placeholder.png",icon:"https://vibemap.wpengine.com/wp-includes/images/media/default.png"},name:"BFF.fm Mockup",location:{ID:1444,post_title:"San Francisco",post_name:"san-francisco"}},{slug:"51360",status:"publish",type:"local expert",vibe:[],badge_family:[],key:"51360",description:"",icon:!1,name:"The Regular"},{slug:"51338",status:"publish",type:"catch a vibe",vibe:[],badge_family:[],key:"51338",description:"",has_location:!0,map:{address:"Capitol Hill, Seattle, WA, USA",lat:47.625305,lng:-122.3221835,city:"Seattle",name:"Capitol Hill",zoom:14},icon:{url:"https://vibemap.wpengine.com/wp-content/uploads/2022/06/capitol-hill-seattle-3.jpg",icon:"https://vibemap.wpengine.com/wp-includes/images/media/default.png"},name:"Colorful Vibes of Capitol Hill",location:{ID:1438,post_title:"Seattle",post_name:"seattle"}},{slug:"reviewer",status:"publish",type:"vibemapper",vibe:[],badge_family:[],key:"reviewer",description:'<p><span style="font-weight: 400;">Lifehacks are hard, but not for you! Offer tips to others and unlock all the Reviewer levels.</span></p>\n',has_location:!1,icon:{url:"https://vibemap.wpengine.com/wp-content/uploads/2022/05/Reviewer-Badge.jpg",icon:"https://vibemap.wpengine.com/wp-includes/images/media/default.png"},name:"Reviewer"},{slug:"see-and-be-seen",status:"publish",type:"vibemapper",vibe:[],badge_family:[],key:"see-and-be-seen",description:'<p><span style="font-weight: 400;">The heart of the action gives you life! Check into places and unlock all the See and Be Seen levels.</span></p>\n',has_location:!1,icon:{url:"https://vibemap.wpengine.com/wp-content/uploads/2022/05/See-and-Be-Seen-Badge.jpg",icon:"https://vibemap.wpengine.com/wp-includes/images/media/default.png"},name:"See and be Seen"},{slug:"outdoorsy",status:"publish",type:"its a lifestyle",vibe:[],badge_family:[],key:"outdoorsy",description:'<p><span style="font-weight: 400;">Getting inspired by scenery &amp; greenery, it’s what you do. Check into outdoor places to unlock all the Outdoorsy levels.</span></p>\n',has_location:!1,icon:{url:"https://vibemap.wpengine.com/wp-content/uploads/2022/05/Outdoorsy-Badge.jpg",icon:"https://vibemap.wpengine.com/wp-includes/images/media/default.png"},name:"Outdoorsy"},{slug:"shopaholic",status:"publish",type:"its a lifestyle",vibe:[],badge_family:[],key:"shopaholic",description:"<p>Window-shopping works and scoring fly stuff is your special skill 😉 Check into shops and unlock all the Shopaholic levels.</p>\n",has_location:!1,icon:{url:"https://vibemap.wpengine.com/wp-content/uploads/2022/05/Shopaholic-Badge.jpg",icon:"https://vibemap.wpengine.com/wp-includes/images/media/default.png"},name:"Shopaholic "},{slug:"night-loving",status:"publish",type:"its a lifestyle",vibe:[],badge_family:[],key:"night-loving",description:'<p><span style="font-weight: 400;">Some dread the dark, but nighttime experiences thrill you! Check into nightlife and unlock all the Night-Loving levels.</span></p>\n',has_location:!1,icon:{url:"https://vibemap.wpengine.com/wp-content/uploads/2022/05/Night-Loving-Badge.jpg",icon:"https://vibemap.wpengine.com/wp-includes/images/media/default.png"},name:"Night-Loving "},{slug:"dreamy",status:"publish",type:"catch a vibe",vibe:[],badge_family:[],key:"dreamy",description:"<p>Make the world a better place for all. Save, check in and add a tip to magical, swoony spots to earn your Dreamy Badge.</p>\n<p>&nbsp;</p>\n<p>&nbsp;</p>\n",has_location:!1,icon:{url:"https://vibemap.wpengine.com/wp-content/uploads/2022/05/Dreamy-Badge.jpg",icon:"https://vibemap.wpengine.com/wp-includes/images/media/default.png"},name:"Dreamy"},{slug:"citified",status:"publish",type:"local expert",vibe:[],badge_family:[],key:"citified",description:"",icon:!1,name:"Citified"},{slug:"foodie",status:"publish",type:"its a lifestyle",vibe:[],badge_family:[],key:"foodie",description:'<p><span style="font-weight: 400;">Everyone loves food-filled adventures, but not as much as you! Check into vibey restaurants and unlock all the Foodie levels.</span></p>\n',has_location:!1,icon:{url:"https://vibemap.wpengine.com/wp-content/uploads/2022/05/Frame-2-2.jpg",icon:"https://vibemap.wpengine.com/wp-includes/images/media/default.png"},name:"Foodie"},{slug:"buzzing",status:"publish",type:"catch a vibe",vibe:[],badge_family:[],key:"buzzing",description:"<p>Let the good times roll. Save, check in and add a tip to all the fast-paced spots to earn your Buzzing Badge.</p>\n",has_location:!1,icon:{url:"https://vibemap.wpengine.com/wp-content/uploads/2022/05/Buzzing-Badge.jpg",icon:"https://vibemap.wpengine.com/wp-includes/images/media/default.png"},name:"Buzzing"},{slug:"stomping-ground",status:"publish",type:"local expert",vibe:[],badge_family:[],key:"stomping-ground",description:"",icon:!1,name:"Stomping Ground "},{slug:"test-badge-without-levels-multiple-start-stop-dates",status:"publish",type:"vibemapper",vibe:[],badge_family:[],key:"test-badge-without-levels-multiple-start-stop-dates",description:"<p>This is a description of what the badge does. Notice there are multiple start and stop dates. So you should be able to see the badge at all times, but should only be able to earn points during those windows.</p>\n",has_location:!1,map:!1,event:[],icon:{url:"https://vibemap.wpengine.com/wp-content/uploads/2020/08/no_image_placeholder.png",icon:"https://vibemap.wpengine.com/wp-includes/images/media/default.png"},name:"Test Badge without Levels & Multiple Start/Stop Dates"},{slug:"51009",status:"publish",type:"local expert",vibe:[],badge_family:[],key:"51009",description:"<p>This is a description.</p>\n",has_location:!0,map:!1,icon:{url:"https://vibemap.wpengine.com/wp-content/uploads/2020/08/no_image_placeholder.png",icon:"https://vibemap.wpengine.com/wp-includes/images/media/default.png"},name:"Test Badge with Levels - Ongoing",location:{ID:1447,post_title:"Oakland",post_name:"oakland"}},{slug:"green-vibes-challenge",status:"publish",type:"partner",vibe:[],badge_family:[],key:"green-vibes-challenge",description:"<p>This earth day take part in the Green Vibes Challenge</p>\n",has_location:!0,map:{address:"Oakland, CA, USA",lat:37.8043514,lng:-122.2711639,city:"Oakland",name:"Oakland",zoom:14},event:["check_in"],icon:{url:"https://vibemap.wpengine.com/wp-content/uploads/2022/04/Green-Vibes-Challenge.jpg",icon:"https://vibemap.wpengine.com/wp-includes/images/media/default.png"},name:"Green Vibes Challenge",location:{ID:1447,post_title:"Oakland",post_name:"oakland"}},{slug:"van-ness-bus-badge",status:"publish",type:"general",vibe:[],badge_family:[],key:"van-ness-bus-badge",description:"<p>Explore the vibes Van Ness on the new bus-rapid transit and earn points towards cool rewards and learn about upcoming events.</p>\n<ul>\n<li>Check in at any of the locations in this guide or along the coordidor</li>\n<li>Add Vibes and Tips to places so other people know what to expect</li>\n<li>Send feedback to San Francisco Transit Riders &amp; SFMTA</li>\n</ul>\n",has_location:!0,map:{address:"Civic Center, San Francisco, CA, USA",lat:37.7815533,lng:-122.4156427,zoom:14,place_id:"ChIJ3eJWtI6AhYAR2ovTWatCF8s",name:"Civic Center",city:"San Francisco",city_short:"SF",state:"California",state_short:"CA",post_code:"94102",country:"United States",country_short:"US"},event:["check_in","save_place","add_tip","add_vibe","share"],icon:{url:"https://vibemap.wpengine.com/wp-content/uploads/2022/03/Van-Ness-Bus-Rapid-Transit.jpg",icon:"https://vibemap.wpengine.com/wp-includes/images/media/default.png"},name:"Van Ness Bus Badge"},{slug:"have-you-eaten-yet",status:"publish",type:"partner",vibe:[],badge_family:[],key:"have-you-eaten-yet",description:"<p>Have you eaten yet? Win prizes, unlock specials, and collect 5 commemorative postcards by AAPI Artists by joining the Oakland AAPI Challenge!</p>\n",has_location:!0,map:!1,event:["check_in"],icon:{url:"https://vibemap.wpengine.com/wp-content/uploads/2022/04/Frame-310.jpg",icon:"https://vibemap.wpengine.com/wp-includes/images/media/default.png"},name:"Have you eaten yet?",location:{ID:1447,post_title:"Oakland",post_name:"oakland"}},{slug:"first-fridays",status:"publish",type:"partner",vibe:[],badge_family:[],key:"first-fridays",description:"<p>Earn your First Friday’s After Dark Badge by checking in to select places downtown Oakland during and after First Friday.</p>\n<p>&nbsp;</p>\n",has_location:!0,map:{address:"2040 Telegraph Ave, Oakland, CA 94612, USA",lat:37.81033588008649,lng:-122.26938291321412,city:"Oakland",zoom:16},event:["check_in"],icon:{url:"https://vibemap.wpengine.com/wp-content/uploads/2021/10/Vibemap_Oakland-First-Friday-Badge-21-e1636037610434-3.jpg",icon:"https://vibemap.wpengine.com/wp-includes/images/media/default.png"},name:"Oakland First Fridays",location:{ID:1447,post_title:"Oakland",post_name:"oakland"}},{slug:"social",status:"publish",type:"vibemapper",vibe:[],badge_family:[],key:"social",description:'<p><span style="font-weight: 400;">You can have fun solo, but the best bonus is planning with pals. Share interesting events or places and unlock all the Good Friends levels.</span></p>\n',has_location:!1,event:["share"],icon:{url:"https://vibemap.wpengine.com/wp-content/uploads/2021/08/social.png",icon:"https://vibemap.wpengine.com/wp-includes/images/media/default.png"},name:"Good Friend"},{slug:"good-vibes",status:"publish",type:"vibemapper",vibe:[],badge_family:[],key:"good-vibes",description:'<p><span style="font-weight: 400;">Achieving the best day ever? Depends on what you’re in the mood for. Do Vibe Checks and unlock all the Good Vibes levels.</span></p>\n',has_location:!1,event:["vibe_check"],icon:{url:"https://vibemap.wpengine.com/wp-content/uploads/2021/08/good-vibes.jpg",icon:"https://vibemap.wpengine.com/wp-includes/images/media/default.png"},name:"Good Vibes"},{slug:"explorer",status:"publish",type:"vibemapper",vibe:[],badge_family:[],key:"explorer",description:'<p><span style="font-weight: 400;">Embracing everything that takes you on a journey, that’s totally you. Search vibes and unlock all the Explorer levels. </span></p>\n',has_location:!1,event:["search_vibes"],icon:{url:"https://vibemap.wpengine.com/wp-content/uploads/2021/08/explorer.jpg",icon:"https://vibemap.wpengine.com/wp-includes/images/media/default.png"},name:"Explorer"},{slug:"collector",status:"publish",type:"vibemapper",vibe:[],badge_family:[],key:"collector",description:'<p><span style="font-weight: 400;">Your list of new city faves &amp; old standbys is looking so good. Save places and unlock all the Collector levels.</span></p>\n',has_location:!1,map:!1,event:["save_place"],icon:{url:"https://vibemap.wpengine.com/wp-content/uploads/2021/08/collector.png",icon:"https://vibemap.wpengine.com/wp-includes/images/media/default.png"},name:"Collector"},{slug:"jack-london-challenge",status:"publish",type:"partner",vibe:[],badge_family:[],key:"jack-london-challenge",description:"<p>Unlock specials and win prizes by joining the Jack London Neighborhood Challenge!</p>\n",has_location:!0,map:{address:"Jack London District, Oakland, CA, USA",lat:37.7947392,lng:-122.2771389,city:"Oakland",name:"Jack London District",zoom:14},event:["add_vibe","save_place","add_tip","check_in","promo","share"],icon:{url:"https://vibemap.wpengine.com/wp-content/uploads/2021/08/Badge_Oak-01-5.jpg",icon:"https://vibemap.wpengine.com/wp-includes/images/media/default.png"},name:"Jack London Neighborhood Challenge",location:{ID:1447,post_title:"Oakland",post_name:"oakland"}},{slug:"51848",status:"publish",vibe:[],badge_family:[],key:"51848",description:"",has_location:!0,icon:{url:"https://vibemap.wpengine.com/wp-content/uploads/2022/07/art_route_oakland.jpg",icon:"https://vibemap.wpengine.com/wp-includes/images/media/default.png"},name:"Art Route Oakland",location:{ID:1447,post_title:"Oakland",post_name:"oakland"}}],badges$1={badges:badges};axiosRetry__default.default(Axios__default.default,{retries:3,retryDelay:axiosRetry__default.default.exponentialDelay,onRetry:(e,t,a)=>{console.log("Axios retrying: ",e,t,a)}});const axios=Axios__default.default,jsonpack=(dayjs__default.default.extend(isBetween__default.default),dayjs__default.default.extend(dayjsRecur__default.default),require("jsonpack"));exports.activityCategories={};let categories_flat=[];exports.cities=[],exports.neighborhoods=[];const getAPIDomain=(e=null)=>{var t="undefined"!=typeof process&&process.env.API_ENV,e=e||t||"production";return"production"===e?"https://api.vibemap.com":"staging"===e?"https://staging.api.vibemap.com":"http://localhost:9001"},api_domain=getAPIDomain(),api_version="v0.3",useSearchAPI=!0,useSearchAPIEvents=!0,ApiUrl=`${api_domain}/${api_version}/`,filterList=(e=[{test:"test",value:"foo"},{test:"test",value:"bar"}],t="food",a="value",o=!1)=>{let n;if(o)n=e.filter(e=>t===e[a]),console.log("FILTERLIST CITY RESULT",o,t,n);else{const i=new RegExp(t.replace(/[-[\]{}()*+!<=:?.\/\\^$|#\s,]/g,"\\$&"),"i");n=e.filter(e=>(e=>i.test(e[a]))(e))}return n},getRandomItem=e=>{return e[Math.floor(Math.random()*e.length)]},encodeCardIndex=(e,t)=>{return e+t/10},matchLists=(e,t)=>{let a=0;return a=0<e.length&&0<t.length?e.filter(e=>t.includes(e)).length:a},rankVibes=(e,a)=>{let t=[];return(t=e.map(e=>{let t=0;return t=a.includes(e)?a.length-a.indexOf(e):t})).reduce((e,t)=>e+t,0)/a.length},sortByKey=(e,t)=>(console.log("sortByKey (a, b)",e,t),e),sortByPopularity=(e,t)=>{e=parseInt(e.details.msv||2);return parseInt(t.details.msv||2)-e};try{const X=require("../dist/activityCategories.zip.json");exports.activityCategories={activityCategories:jsonpack.unpack(X)},categories_flat=exports.activityCategories.activityCategories.sort(sortByPopularity).map(e=>e.name.toLowerCase())}catch(e){console.log("Error with packed activityCategories ",e)}try{const $=require("../dist/cities.json"),_=(exports.cities=$,require("../dist/neighborhoods.zip.json"));exports.neighborhoods=jsonpack.unpack(_)}catch(e){console.log("Error with packed cities or neighborhoods ",e)}const sortByArray=(e,a)=>e.sort((e,t)=>a.indexOf(e)-a.indexOf(t)),isClosedToday=e=>"00:00:00"===e.opens&&"00:00:00"===e.closes,displayHours=(a,i="dd")=>{var t=isOpen(a),o=a.find(({day_of_week:e})=>8===e);if(t.openEveryday){let e=[];t=dayjs__default.default(t.opens).format("ha")+"-"+dayjs__default.default(t.closes).format("ha"),t=(e.push(t),a.find(e=>"POPULAR"==e.name));return console.log("Popular at: ",t),e}let n=0,s=[];for(;n<7;){let e=a.filter(e=>e.day_of_week==n);a.find(e=>e.day_of_week==n&&"POPULAR"==e.name);var r=0<e.length&&void 0!==e;let t=!1;if(r&&(t=isClosedToday(e[0])),!r||t)if(t||void 0===o)s.push([{day_of_week:n,closed:!0}]);else{let e=Object.assign({},o);e.day_of_week=n,s.push([e])}else s.push(e.map(e=>Object.assign({},e,{day_of_week:n,closed:!1})));n++}const l=(e,t="Mon",a=!0)=>{var o=e.opens.split(":"),e=e.closes.split(":"),n="00"!==o[1]||"00"!==e[1],t=dayjs__default.default().day(t).format(i),n=n?"h:mma":"ha",o=dayjs__default.default().hour(o[0]).minute(o[1]).format(n),e=dayjs__default.default().hour(e[0]).minute(e[1]).format(n);return a?t+": "+o+"-"+e:o+"-"+e};return s.map(t=>{var a=t[0],o=(a.day_of_week+1)%7;if(!0===a.closed)return dayjs__default.default().day(o).format(i)+": Closed";{let e=l(a,o);return 1<t.length&&(a=t[1],t=l(a,o,!1),e+="; "+t),e}})},isOpen=(e,t=dayjs__default.default())=>{const a=((new Date).getDay()+6)%7;var o=t.format("YYYY-MM-DD");if(t.hour(),!e)return{openNow:!1,openToday:!1,isPopular:!1};let n=e.find(({day_of_week:e})=>e===a);var i=e.find(({day_of_week:e})=>8===e),e=e.filter(e=>isClosedToday(e)),e=void 0!==i&&0==e.length;if(n=void 0===n?i:n){const s=dayjs__default.default(o+" "+n.opens),r=dayjs__default.default(o+" "+n.closes);i=t.isBetween(s,r),o=i&&"POPULAR"===n.name;return s.format("ha"),r.format("ha"),{openNow:i,openToday:!0,openEveryday:e,opens:s,closes:r,isPopular:o}}return{openNow:!1,openToday:!1,openEveryday:!1,isPopular:!1}},parseDateTime=e=>{return e?dayjs__default.default(e):null},formatDateTime=(e,t=0,a=!1)=>{var o,n,i;return e?(o=(e="string"==typeof e?parseDateTime(e):e).format("MMM"),n=e.format("D"),i=e.format("ddd"),`${a?i:null} ${o} ${n} `+e.format("ha")):null},getCardOptions=t=>{let{categoryQuery:e,distanceQuery:a,geoQuery:o,searchQuery:n,vibeQuery:i}=t.singCards.posts[0];t.overrideQuery&&t.overrideQuery.vibe&&(i=t.overrideQuery.vibe),t.overrideQuery&&t.overrideQuery.cities&&0<t.overrideQuery.cities.length&&(s=exports.cities.filter(e=>e.slug===t.overrideQuery.cities[0]),o=o||s[0].location,a=a||7),t.overrideQuery&&t.overrideQuery.location&&(o=t.overrideQuery.location,a=t.overrideQuery.distance||a),o||(s=exports.cities.filter(e=>"oakland"===e.slug),o=s[0].location);var s=(i="string"==typeof i?i.replace(/\s/g,"").split(","):i)?i.map(e=>"string"==typeof e?e:e.slug):[];return{category:e,distance:a,point:o.longitude+","+o.latitude,ordering:"vibe",search:n,vibes:s}},getAPIParams=(e,t=!1,a=useSearchAPI)=>{let{activity:o,bounds:n,distance:i,per_page:s,point:r,tags:l,vibes:u}=e,p=Object.assign({},e),c=1;0<i&&(c=Math.round(i*constants.METERS_PER_MILE)),p.ordering=e.ordering||"-aggregate_rating";var d=r&&r.split(","),g=d&&d[1],d=d&&d[0],m=g&&d;return a&&(p.activity&&(p.categories=o),p.tags&&0<p.tags.length&&(p["tags.raw__wildcard"]=`*${l}*`,delete p.tags),p.vibes&&(p.vibes=u),p.category&&(p.categories="string"==typeof p.category?p.category.toLowerCase().split():p.category),(m&&p.distance||n)&&(a=n?n.map(e=>{return[...e].reverse().join(",")}).join("__"):null,n&&0<n.length?p.location__geo_polygon=a:p.location__geo_distance=c+`m__${g}__`+d,delete p.distance),(p.start_date||p.start_date_after)&&(m=p.start_date||p.start_date_after,a=dayjs__default.default(m).startOf("day").format("YYYY-MM-DDTHH:mm:ss"),p.end_date__gte=a,delete p.start_date),(p.end_date||p.end_date_before)&&(g=p.end_date||p.end_date_before,d=dayjs__default.default(g).endOf("day").format("YYYY-MM-DDTHH:mm:ss"),p.start_date__lte=d,delete p.end_date,delete p.end_date_before),p.search&&0<p.search.length&&("east bay open studios".includes(p.search)&&(p.editorial_category="EastBayOpenStudios"),delete p[":vibes.raw__in"]),p.editorial_category&&(m=p.editorial_category,p["editorial_categories.raw__wildcard"]=`*${m}*`,delete p.editorial_category),p.per_page&&(p.page_size=s,delete p.per_page),p.cache_bust=Math.floor(Date.now()/1e3/60/5),p.is_approved=e.is_approved||!1,p.is_chain=e.is_chain||!1,p.is_closed=e.is_closed||!1,p.is_destination=e.is_destination||!1,p.city&&(p["city.raw__contains"]=p.city,delete p.city)),"all"!==o&&null!==o&&(p.category=o),p.dist=c,delete p.activity,delete p.distance,delete p.bounds,null==p.city&&delete p.city,null!=p.category&&"all"!=p.category&&0!=p.category.length||delete p.category,null==p.editorial_category&&delete p.editorial_category,null==p.search&&delete p.search,null!=p.vibes&&0!=p.vibes.length||delete p.vibes,0==t&&delete p.relatedVibes,p},getCategoryMatch=(e=["all"])=>{const t=exports.activityCategories.activityCategories.map(e=>e.slug);let a=[];return e.map(e=>(t.includes(e)&&a.push(e),!0)),a},getFullLink=(e,t="instagram")=>{if(null===e||""===e)return null;const a=o.parse(e);let o=new URL(e);e=a.path.replace("/","");return{instagram:"https://instagram.com/",twitter:"https://twitter.com/",facebook:"https://facebook.com/"}[t]+e},geLocationFromCity=e=>{return e.cityDetails?e.cityDetails.placemarker:e.location||null},getMax=(e,t)=>{let a=0;return e.forEach(e=>{e=e.properties[t];e>a&&(a=e)}),a},getMin=(e,t)=>{let a=100;return e.forEach(e=>{e=e.properties[t];e<a&&(a=e)}),a},getTimeOfDay=e=>{if(e&&e.isValid())return e=parseFloat(e.format("HH")),12<=e&&e<=17?"afternoon":17<=e?"evening":"morning"},getTopLocations=(e,a="city",t=!1)=>{let o={};e.map(e=>{const t=e.properties[a];return null!=t&&"null"!=t&&(e=t.split(",")[0],o.hasOwnProperty(t)?o[e]+=1:o[e]=1),null});var n,i=[];for(n in o)i.push([n,o[n]]);let s=i.sort(function(e,t){return t[1]-e[1]});return t?s.map(e=>e[0]):s},getTopTags=(e,t=!1)=>{let a={};e.map(e=>(e.properties.tags.map(e=>(a.hasOwnProperty(e)?a[e]+=1:a[e]=1,null)),null));var o,n=[];for(o in a)n.push([o,a[o]]);let i=n.sort(function(e,t){return t[1]-e[1]});return t?i.map(e=>e[0]):i},getTopVibes=(e,t=!1)=>{let a={};e.map(e=>(e.properties.vibes.map(e=>(a.hasOwnProperty(e)?a[e]+=1:a[e]=1,null)),null));var o,n=[];for(o in a)n.push([o,a[o]]);let i=n.sort(function(e,t){return t[1]-e[1]});return t?i.map(e=>e[0]):i},getTopCategories=(e,t="categories")=>{let a={};e.map(e=>(e.properties[t].map(e=>(a.hasOwnProperty(e)?a[e]+=1:a[e]=1,null)),null));var o,n=[];for(o in a)n.push([o,a[o]]);return n.sort(function(e,t){return t[1]-e[1]})},getWaveFromVibe=e=>"buzzing"!==e?"medium":"high",graphToEvents=(e=[])=>{return e.map(e=>{e=e.node;const t=e.groupDetails;var a=t.name,o=t.link,e=e.slug,n=t.description,i=t.image?t.image.url:null,i=[{url:i,original:i}],s=t.map,r=t.price||"free",l=t.vibes?t.vibes.map(e=>e.slug):[],u=(t.recurring,t.recurrence),p=t.which,c=t.day.value,d=t.startTime||"00:00",g=t.startTime?t.endTime:"00:00";const m=nextDateFromRecurring(u,c,p);u=dayjs__default.default(m.next(1).toLocaleString().replace("00:00:00",d)),c=dayjs__default.default(m.next(1).toLocaleString().replace("00:00:00",g));return{id:e,title:a,geometry:{type:"Point",coordinates:[-122.26747099999956,37.81396520000001]},dateTime:u,image:i,card_type:"event",properties:{name:a,title:a,url:o,address:s&&s.streetAddress,categories:[],city:t.cities&&t.cities[0].slug,description:n,is_online:!1,images:[],hotspots_place:s,location:s,start_date:u,end_date:c,vibemap_images:i,likes:10,price:r,recurs:!0,vibes:l}}})},groupsToEvents=(e=[])=>{return e.map(e=>{const t=e.acf;var a=t.name,o=t.link,e=e.slug,n=t.description,i=t.image&&t.image.url,i=i?[{url:i,original:i}]:[],s=t.map,r=t.price||"free",l=t.vibes?t.vibes.map(e=>e.slug):[],u=(t.recurring,t.recurrence),p=t.which,c=t.day&&t.day.label?t.day.label:"sunday",d=t.start_time||"00:00",g=t.end_time||"00:00";const m=nextDateFromRecurring(u,c,p),h=dayjs__default.default(m.next(1).toLocaleString().replace("00:00:00",d)),b=dayjs__default.default(m.next(1).toLocaleString().replace("00:00:00",g));return{id:e,title:a,geometry:{type:"Point",coordinates:[-122.26747099999956,37.81396520000001]},dateTime:h.toISOString(),image:i,card_type:"event",properties:{name:a,title:a,url:o,address:s&&s.streetAddress,categories:[],city:t.cities&&t.cities[0].slug,description:n,is_online:!1,images:i,hotspots_place:s,location:s,start_date:h.toISOString(),end_date:b.toISOString(),vibemap_images:i,likes:10,price:r,recurs:!0,vibes:l}}})},normalize=(e,t,a)=>(e-t)/(a-t)*10,normalize_all=(e=500,t=1,a=100,o=1,n=10)=>{const i=LinearScale__default.default().domain([t,a]).range([o,n]);return i(e)},scaleIconSize=(e=5,t=1,a=100)=>{const o=LinearScale__default.default().domain([t,a]).range([1,5]);return o(e)},scaleMarker=(e=50,t,a=100,o=14)=>{isNaN(e)&&(e=3.5);const n=LinearScale__default.default().domain([8,20]).range([10,30]);var o=n(o),i=3*o;let s=LinearScale__default.default().domain([0,a]).range([o,i]);return Math.round(s(e))},scaleDensityArea=(e=10,t)=>{let a=LinearScale__default.default().domain([1,60,1e3]).range([0,.8,1]);return a(e)},scaleDensityBonus=e=>{let t=LinearScale__default.default().domain([0,1]).range([2*constants.HEATMAP_INTENSITY,constants.HEATMAP_INTENSITY]);return t(e)},scaleScore=(e=2)=>{let t=LinearScale__default.default().domain([0,5]).range([60,100]);return Math.round(t(e))},scaleSelectedMarker=e=>{let t=LinearScale__default.default().domain([8,12,20]).range([.1,1.2,4]);return Math.round(t(e))},isDateFormatYYYYMMDD=e=>{return/^\d{4}-\d{2}-\d{2}$/.test(e)},getDatesFromRange=(e="weekend",t=null)=>{let a=t;var o;a&&(t=t&&"string"==typeof t?t.replace(/-/g,"/"):t,o=isDateFormatYYYYMMDD(t),a=dayjs__default.default(t).format(o?"YYYY/MM/DD":"MM/DD/YYYY"));const n=(a?dayjs__default.default(a):dayjs__default.default()).startOf("day");var i=n.day()+1;let s=0,r=0;switch(e){case"day":r=1;break;case"weekend":r=7-i;break;case"next_week":s=8-i,r=7;break;case"month":const l=n.endOf("month");r=l.diff(n,"day");break;case"quarter":r=90;break;case"half_year":r=180;break;case"year":r=360}return{start:n.add(s,"day").startOf("day"),end:n.add(r,"day").endOf("day")}},getEventOptions=(t="oakland",e="quarter",a=10,o=null,n=[],i,s=[],r=null,l=null,u=1,p=200)=>{let c=null;if("string"==typeof t){const y=exports.cities.concat(exports.neighborhoods);var d=y.filter(e=>e.slug===t);c=d&&0<d.length?d[0].location:exports.cities[0]}else c=t.location;var d=!(!r||"string"!=typeof r)&&r.includes("-"),g=d?"YYYY-MM-DD HH:mm":"MM/DD/YYYY HH:mm",m=d&&r?r.replace(/-/g,"/"):r,d=l&&d?l.replace(/-/g,"/"):l,e=getDatesFromRange(e,m);const h=r?dayjs__default.default(m):e.start,b=l?dayjs__default.default(d):e.end;r=h.format(g);let q={activity:o,category:o,distance:a,point:c.longitude+","+c.latitude,ordering:"-score_combined",start_date_after:r,end_date_before:b.format(g),page:u,per_page:p,search:i,tags:s,vibes:n};return null!=q.category&&"all"!=q.category&&0!=q.category.length||delete q.category,null==q.search&&delete q.search,null!=q.tags&&0!=q.tags.length||delete q.tags,null!=q.vibes&&0!=q.vibes.length||delete q.vibes,q},fetchEvents=async(e={distance:20,page:1,point:"-122.269994,37.806507"},t=!1,a=!1)=>{let{category:o,days:n,point:i,search:s}=e;console.log("DEBUG: fetchEvents > getAPIParams ",e);var r=i.split(",").map(e=>parseFloat(e)),r=map.getLocationFromPoint(r),t=(dayjs__default.default().startOf("day").format("YYYY-MM-DD HH:MM"),dayjs__default.default().add(n,"days").format("YYYY-MM-DD HH:MM"),t&&o&&(e.search=`${o||""} `+(s||"")),map.sortLocations(exports.cities,r)),r=t&&0<t.length?t[0].name:null,t=module.exports.getAPIParams(e,void 0,void 0,useSearchAPIEvents),e=querystring__default.default.stringify(t),t=ApiUrl+"search/events",l=axios.CancelToken.source();let u=await axios.get(t+"?"+e,{cancelToken:l.token}).catch(function(e){return console.log("Axios error ",e.response&&e.response.statusText),{data:[],count:0,top_categories:[],top_locations:[],top_tags:[],top_vibes:[],loading:!1,timedOut:!1}});if(a){t=await wordpress.getGroups({city:r||""});const p=groupsToEvents(t.data);u.data.results.features=p.concat(u.data.results.features)}e=u.data.results.features,l=getTopCategories(e),a=getTopTags(e),r=getTopVibes(e),t=getTopLocations(e);return{...u,count:u.data.count,top_categories:l,top_locations:t,top_tags:a,top_vibes:r,loading:!1,timedOut:!1}},nextDateFromRecurring=(...[e,t,a])=>{const o=dayjs__default.default();a=["first","second","third","fourth","fifth"].indexOf(a),a=0<a?a:0;return"monthly"==e?o.recur().every(t).daysOfWeek().every([a]).weeksOfMonthByDay():o.recur().every(t).daysOfWeek()},fetchPlacesDetails=async(e,t="place")=>{var a=axios.CancelToken.source();let o;if("event"==t&&(o=ApiUrl+"events/"),o="place"==t?ApiUrl+"places/":o)return await axios.get(""+o+e,{cancelToken:a.token}).catch(function(e){return console.log("axios error ",e&&e.statusText),null})},fetchPlacePicks=async(t={distance:5,point:"-123.1058197,49.2801149",ordering:"-score_combined",tags:[],vibes:["chill"],preferredVibes:[],relatedVibes:[]})=>{let{activity:e,ordering:a,per_page:o,point:n,vibes:i,preferredVibes:s,relatedVibes:r,shouldSort:l=!0,useNearest:u=!1}=t;const p=o||400;var c=i&&0<i.length,d=n.split(",").map(e=>parseFloat(e)),g=map.getLocationFromPoint(d),m=map.sortLocations(exports.cities,g),g=map.distanceBetweenLocations(m[0].location,g);if(u&&g<20){const v=m[0];t.point=v.centerpoint.join(","),t.city=v.slug}const h=ApiUrl+"search/places",b=axios.CancelToken.source();let q={};g=async e=>{e=getAPIParams(e,p);let t=querystring__default.default.stringify(e);return q=await axios.get(h+"?"+t,{cancelToken:b.token}).catch(function(e){return console.log("axios error ",e.response&&e.response.statusText),{data:[],count:0,query:"?"+t,top_vibes:null,loading:!1,timedOut:!1}})},m=(q=await g(t)).data.count;if(0==m&&c){let e=Object.assign({},t);e.search=i[0],e.vibes=[],q=await g(e)}c=q.data&&q.data.results&&q.data.results.features?q.data.results.features:[],g=formatPlaces(c);const y=i||[];var c=y.concat(s||[]),_={...t,relatedVibes:r},d=l?scorePlaces(g,d,c,["aggregate_rating","vibes","distance","offers","hours"],a,!(!t||!t.shouldShuffle)&&t.shouldShuffle,_):g,c=getTopCategories(g),t=getTopTags(g),_=getTopVibes(g);return{data:d,count:m,top_categories:c,top_locations:getTopLocations(g),top_tags:t,top_vibes:_,loading:!1,timedOut:!1}},fetchPlacesFromSearch=async e=>{const t=new URLSearchParams([["query",""],["latitude",e.latitude],["longitude",e.longitude]]);return await axios.get("https://dev.vibemap.com/search_places?"+t.toString()).catch(function(e){return console.log("axios error ",e.response&&e.response.statusText),{data:[],count:0,query:"?",top_vibes:null,loading:!1,timedOut:!1}})},fetchPlacesFromIds=async(e=["740b43a4-3925-4413-9414-fff9d8d16932","c8262c66-1a83-4d4b-a3e6-8710864ffd1f"])=>{var t=ApiUrl+"/search/places",e=(params=new URLSearchParams([["ids",e.join("__")]]),await axios.get(t+"?"+params.toString()).catch(function(e){return console.log("axios error ",e.response&&e.response.statusText),{data:[],error:e,count:0,query:"?"+params,top_vibes:null,loading:!1,timedOut:!1}})),t=e.data.count;return{data:e.data&&e.data.results&&e.data.results.features?e.data.results.features:[],count:t,loading:!1,timedOut:!1}},fetchPlacesFromSlugs=async(e=["salesforce-park"])=>{var t=ApiUrl+"/search/places",e=(params=new URLSearchParams([["slugs",e.join("__")]]),await axios.get(t+"?"+params.toString()).catch(function(e){return console.log("axios error ",e.response&&e.response.statusText),{data:[],error:e,count:0,query:"?"+params,top_vibes:null,loading:!1,timedOut:!1}})),t=e.data.count;return{data:e.data&&e.data.results&&e.data.results.features?e.data.results.features:[],count:t,loading:!1,timedOut:!1}},decodePlaces=e=>{return e.map(e=>(e.properties.vibes=JSON.parse(e.properties.vibes),e.properties.subcategories=JSON.parse(e.properties.subcategories),e.properties.categories=JSON.parse(e.properties.categories),e.properties.vibemap_images=[],e.properties.images=[e.properties.thumbnail_url],null!=e.properties.opening_hours&&(e.properties.opening_hours=JSON.parse(e.properties.opening_hours)),delete e.properties.tips,delete e.properties.facebook,delete e.properties.telephone,delete e.properties.website,e))},formatPlaces=(e=[])=>{const n=categories_flat,i=vibes.getCategoriesByLevel(2).map(e=>e.slug);return e.map(e=>{if(!e)return null;let t=e.properties;t.place_type="places",t.short_name=truncate__default.default(t.name,constants.TRUCATE_LENGTH),t.aggregate_rating=parseFloat(t.aggregate_rating),null==t.aggregate_rating_count&&(t.aggregate_rating_count=1),t.num_vibes=t.vibes.length,t.sub_categories=t.sub_categories,t.top_vibe=null;var a=t.categories.map(e=>(e="Drink"==e?"Drinking":e).toLowerCase()).filter(e=>i.includes(e.toLowerCase())),a=sortByArray(a,n),o=(void 0!==t.categories&&0!==t.categories.length||(t.categories=["place"]),a[0]||"dot");return t.icon=a[0]?`icon_${o}_light`:o,t.cluster=null,e.properties=t,e}).filter(Boolean)},vibesFromPlaces=e=>{return[]},getRecommendedVibes=e=>{return[]},scorePlaces=(e,u,p=[],c=["vibes","aggregate_rating","distance"],t,a=!0,o=12,d={})=>{let g={};let m={};c.map(e=>g[e]=1e-5),c.map(e=>m[e]=1/0);o=o<=10?10:o,o=normalize_all(o,10,20,0,10);let i={category:0,vibe:10,distance:8/(1+7*Math.exp(1)**(-.7*o)),rating:4,hours:0,offers:0};"relevance"!==t&&(i[t]+=3);const n=e.map(e=>{let a=e.properties;if(a.stats={},c.includes("vibes")){let[e,t]=[0,0];void(a.vibes_score=0)===a.vibes&&(a.vibes=["chill"]);var n=0<a.vibes.length?2*Math.log10(a.vibes.length):0;0<a.vibes.length&&(a.vibes_score=n),a.images&&0<a.images.length&&(t+=0<a.images.length?2*Math.log10(a.images.length):0),p&&0<p.length&&a.vibes&&(n=10*(e=matchLists(p,a.vibes))+2*(d.relatedVibes?matchLists(d.relatedVibes,a.vibes):0),o=+rankVibes(p,a.vibes),t+=n+o,a.vibes_score+=t,a.stats.num_vibes=a.vibes.length,a.stats.num_matching_vibes=e,a.stats.vibe_match_score=n,a.stats.vibe_order_score=o),a.vibes_score>g.vibes&&(g.vibes=a.vibes_score),a.vibes_score<m.vibes&&(m.vibes=a.vibes_score),a.stats.total_vibe_score=a.vibes_score}if(c.includes("categories")){n=[0][0];a.categories_score=0;const r=a.categories.concat(a.subcategories),l=r.filter((e,t)=>r.indexOf(e)==t);if(0<a.categories.length&&(a.categories_score=a.categories.length),0<p.length){let o=[];l.forEach(t=>{var e=constants.place_sub_categories.filter(e=>e.main_category.includes(t)),a=constants.place_sub_categories.filter(e=>e.name.includes(t));0<e.length&&(o=o.concat(e[0].vibes)),0<a.length&&(o=o.concat(a[0].vibes))});n=matchLists(p,o);a.categories_score+=10*n}a.categories_score>g.categories&&(g.categories=a.categories_score),a.categories_score<m.categories&&(m.categories=a.categories_score)}var o,t,i,s;return c.includes("likes")&&(a.likes>g.likes&&(g.likes=a.likes),a.likes<m.likes&&(m.likes=a.likes)),c.includes("distance")&&(o=turf__namespace.point(e.geometry?e.geometry.coordinates:[0,0]),a.distance=turf_distance__default.default(u,o),a.distance>g.distance&&(g.distance=a.distance),a.distance<m.distance&&(m.distance=a.distance)),c.includes("aggregate_rating")&&(a.aggregate_rating>g.aggregate_rating&&(g.aggregate_rating=a.aggregate_rating),a.aggregate_rating<m.aggregate_rating&&(m.aggregate_rating=a.aggregate_rating),null==m.aggregate_rating_count&&(m.aggregate_rating_count=1,g.aggregate_rating_count=1),a.aggregate_rating_count>g.aggregate_rating_count&&(g.aggregate_rating_count=a.aggregate_rating_count),a.aggregate_rating_count<m.aggregate_rating_count&&(m.aggregate_rating_count=a.aggregate_rating_count)),a.offers_score=0,a.hours_score=0,c.includes("offers")&&(a.offers&&0<a.offers.length&&(a.offers_score=2),{openNow:n,openToday:o,opens:t,closes:i,isPopular:s}=isOpen(a.opening_hours),a.open_now=n,a.popular_now=s,a.opens=t,a.closes=i,o&&(a.hours_score+=.5),n&&(a.hours_score+=.5),s&&(a.hours_score+=5)),a.stats.hours_bonus=a.hours_score,e.properties=a,e});let s=0,r=1/0,l=n.map(e=>{let t=e.properties;c.includes("vibes")&&(t.vibes_score=normalize_all(t.vibes_score,m.vibes,g.vibes,0,1),t.vibes_score=t.vibes_score*i.vibe),c.includes("categories")&&(t.categories_score=normalize_all(t.categories_score,m.categories,g.categories,0,1),t.categories_score=t.categories_score*i.category),c.includes("likes")&&(t.likes_score=normalize_all(t.likes,m.likes,g.likes,0,1)),c.includes("venue")&&(t.venue_score=normalize_all(t.place_vibe_count,m.likplace_vibe_countes,g.place_vibe_count,0,1)),c.includes("aggregate_rating")&&(n=normalize_all(t.aggregate_rating,m.aggregate_rating,g.aggregate_rating,0,1),a=normalize_all(t.aggregate_rating_count,m.aggregate_rating_count,g.aggregate_rating_count,0,1),t.aggregate_rating_score=(n+a)/2,t.aggregate_rating_score*=i.rating,t.stats.aggregate_rating_score=t.aggregate_rating_score),c.includes("distance")&&(n=g.distance,t.distance_score=1-normalize_all(t.distance,m.distance,n,0,.95),t.distance_score*=i.distance,t.stats.distance_score=t.distance_score),c.includes("hours")&&(t.hours_score*=i.hours);var a=c;const o=c.map(e=>t[e+"_score"]);var n=o.indexOf(Math.max.apply(null,o));return o.indexOf(Math.min.apply(null,o)),t.average_score=o.reduce((e,t)=>e+t,0)/o.length,t.average_score>s&&(s=t.average_score),t.average_score<r&&(r=t.average_score),t.reason=a[n],e.properties=t,e});const h=l.sort((e,t)=>t.properties.average_score-e.properties.average_score);o=h.map(e=>{let t=e.properties;return t.average_score=normalize_all(t.average_score,r,s,.65,1),t.icon_size=scaleIconSize(t.average_score,.65,1),t.stats.final_score_normalized=t.average_score,e}),t=o.length;return a&&100<t?module.exports.shuffleTopPicks(o):o},reducePlaceProperties=(e,a=["name","url","address","categories","subcategories","neighborhood","price","short_description","vibemap_images","vibes"])=>{return e.map(t=>(t.properties=Object.fromEntries(a.map(e=>[e,t.properties[e]])),t))},shuffleTopPicks=(e,t=20)=>{const a=e.slice(0,t).map(e=>({value:e,sort:Math.random()})).sort((e,t)=>e.sort-t.sort).map(({value:e})=>e);e=e.slice(t);return a.concat(e)},toTitleCase=e=>{if("string"!=typeof e)return e;e=e.toLowerCase().split(" ");for(var t=0;t<e.length;t++)e[t]=e[t].charAt(0).toUpperCase()+e[t].slice(1);return e.join(" ")},nearest_places=(e,o,n=5)=>{var i=[],e=(e.map(e=>{let t=e.properties;var a=turf__namespace.point(e.geometry.coordinates);t.distance=turf_distance__default.default(o,a),t.distance<n&&i.push(e)}),i.slice(0));return e.sort(function(e,t){return e.properties.distance-t.properties.distance}),e},validate_check_in=(e,t,a=.5)=>{e=turf__namespace.point(e.geometry.coordinates);return turf_distance__default.default(t,e)<a},in_jls=e=>{var t=turf__namespace.polygon([[[-122.282617,37.802862],[-122.2643,37.795721],[-122.265502,37.787005],[-122.288139,37.796077],[-122.282617,37.802862]]]);return turf_boolean__default.default(e,t)},in_neighborhood=a=>{const o=[],n=[],i=turf__namespace.point(a.geometry.coordinates);return exports.neighborhoods.map(e=>{var t=turf_distance__default.default([e.map.lng,e.map.lat],i);(t<5&&in_bbox_helper(a.geometry.coordinates,e.boundary)||1e-5<e.radius&&t<e.radius||t<.8)&&(o.push(e.id),n.push(e.slug))}),o},in_bbox_helper=(e,t)=>{return""!==t&&void 0!==t&&(t=JSON.parse(t),t=turf__namespace.polygon([t]),turf_boolean__default.default(e,t))},nearest_neighborhood=t=>{const e=exports.neighborhoods.map(e=>({name:e.name,neigh_dist:turf_distance__default.default([e.map.lng,e.map.lat],t)}));return e.sort(function(e,t){return e.neigh_dist-t.neigh_dist}),e.slice(0,10)},challenge_badges_lookup=()=>{const t=[];return badges$1.badges.map(e=>{"neighborhood"==e.type&&t.push(e)}),t},associate_badge=a=>{const e=challenge_badges_lookup(),o=[];return e.map(t=>{console.log(t);for(let e=0;e<a.length;e++)t.location.ID==a[e]&&o.push(t)}),o},searchCities=async(e="")=>{e="https://dev.vibemap.com/search_locations/?city="+e;const t=await axios.get(e).catch(e=>(console.log("error ",e),{error:!0,data:e}));return t.data.map(t=>{var e=exports.cities.find(e=>e.name.includes(t.name));if(e&&map.distanceBetweenLocations(t.location,e.location)<10)return e;return exports.neighborhoods.find(e=>e.name.toLowerCase().includes(t.name.toLowerCase())),t})},searchTags=async(e="art")=>{e=ApiUrl+"/tags/?"+e;return(await axios.get(e).catch(e=>(console.log("error ",e),{error:!0,data:e}))).data},getAllBoundaries=async(e="both")=>{e=`https://api.vibemap.com/v0.3/boundaries/?admin_level=${e}&include_hidden=1&per_page=1000&random=`+Math.random();return(await axios.get(e).catch(e=>(console.log("error ",e),{error:!0,data:[]}))).data},getBoundary=async(e="chicago",t=!0)=>{var a=Math.random(),e="https://api.vibemap.com/v0.3/boundaries/?admin_level=both&slug="+e+(t?"&refresh="+a:""),t=await axios.get(e).catch(e=>{console.log("error ",e)});if(!t||!t.data)return null;try{return t.data.results[0]||null}catch(e){return console.log("Problem with boundary data ",e),null}},searchPlacesByName=async(e,t)=>{e=getAPIParams(e),t=t+"/search/places/?"+new URLSearchParams(e).toString(),e=await axios.get(t).catch(function(e){return console.log("axios error ",e.response&&e.response.statusText),[]});return e.data?e.data.results.features:[]},suggestPlacesByName=async(e,t=ApiUrl,a=!1,o=null,n=null,i=null,s="places")=>{let r=null!==o&null!==n&a?o.toString()+"__"+n.toString():null;r=i&a?r+`__${i.toString()}km`:r;o=a?t+`/search/${s}/suggest/?name_suggest_context=${e}&name_suggest_loc=`+r:t+`/search/${s}/suggest/?name_suggest__completion=`+e;console.log("DEBUG HELPERS: suggestPlacesByName full URL: "+o);let l;return l=await axios.get(o).catch(function(e){return console.log("axios error ",e.response&&e.response.statusText),[]}),console.log("HELPERS suggestPlacesByName results: ",l.data),l.data?a?l.data.name_suggest_context[0].options.map(e=>e._source):l.data.name_suggest__completion[0].options.map(e=>e._source):[]},sortNeighborhoodsByVibes=(e,t)=>{if(0===t.length)return e;var a=vibes.getRelatedVibes(t);const n=[...new Set([...t,...a])],o=e.map(e=>{const t=e.vibes||e.acf.vibes,a=t.map(({slug:e})=>e);var o=n.filter(e=>a.includes(e)).length;return{...e,vibeIntersection:o}}),i=o.sort((e,t)=>t.vibeIntersection-e.vibeIntersection);return i.map(e=>{const{vibeIntersection:t,...a}=e;return a})},uploadImageKit=async({domain:e="https://vibemap.com",file_path:t=null,image_data:a="data:image/gif;base64,R0lGODlhPQBEAPeoAJosM//AwO/AwHVYZ/z595kzAP/s7P+goOXMv8+fhw/v739/f+8PD98fH/8mJl+fn/9ZWb8/PzWlwv///6wWGbImAPgTEMImIN9gUFCEm/gDALULDN8PAD6atYdCTX9gUNKlj8wZAKUsAOzZz+UMAOsJAP/Z2ccMDA8PD/95eX5NWvsJCOVNQPtfX/8zM8+QePLl38MGBr8JCP+zs9myn/8GBqwpAP/GxgwJCPny78lzYLgjAJ8vAP9fX/+MjMUcAN8zM/9wcM8ZGcATEL+QePdZWf/29uc/P9cmJu9MTDImIN+/r7+/vz8/P8VNQGNugV8AAF9fX8swMNgTAFlDOICAgPNSUnNWSMQ5MBAQEJE3QPIGAM9AQMqGcG9vb6MhJsEdGM8vLx8fH98AANIWAMuQeL8fABkTEPPQ0OM5OSYdGFl5jo+Pj/+pqcsTE78wMFNGQLYmID4dGPvd3UBAQJmTkP+8vH9QUK+vr8ZWSHpzcJMmILdwcLOGcHRQUHxwcK9PT9DQ0O/v70w5MLypoG8wKOuwsP/g4P/Q0IcwKEswKMl8aJ9fX2xjdOtGRs/Pz+Dg4GImIP8gIH0sKEAwKKmTiKZ8aB/f39Wsl+LFt8dgUE9PT5x5aHBwcP+AgP+WltdgYMyZfyywz78AAAAAAAD///8AAP9mZv///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAKgALAAAAAA9AEQAAAj/AFEJHEiwoMGDCBMqXMiwocAbBww4nEhxoYkUpzJGrMixogkfGUNqlNixJEIDB0SqHGmyJSojM1bKZOmyop0gM3Oe2liTISKMOoPy7GnwY9CjIYcSRYm0aVKSLmE6nfq05QycVLPuhDrxBlCtYJUqNAq2bNWEBj6ZXRuyxZyDRtqwnXvkhACDV+euTeJm1Ki7A73qNWtFiF+/gA95Gly2CJLDhwEHMOUAAuOpLYDEgBxZ4GRTlC1fDnpkM+fOqD6DDj1aZpITp0dtGCDhr+fVuCu3zlg49ijaokTZTo27uG7Gjn2P+hI8+PDPERoUB318bWbfAJ5sUNFcuGRTYUqV/3ogfXp1rWlMc6awJjiAAd2fm4ogXjz56aypOoIde4OE5u/F9x199dlXnnGiHZWEYbGpsAEA3QXYnHwEFliKAgswgJ8LPeiUXGwedCAKABACCN+EA1pYIIYaFlcDhytd51sGAJbo3onOpajiihlO92KHGaUXGwWjUBChjSPiWJuOO/LYIm4v1tXfE6J4gCSJEZ7YgRYUNrkji9P55sF/ogxw5ZkSqIDaZBV6aSGYq/lGZplndkckZ98xoICbTcIJGQAZcNmdmUc210hs35nCyJ58fgmIKX5RQGOZowxaZwYA+JaoKQwswGijBV4C6SiTUmpphMspJx9unX4KaimjDv9aaXOEBteBqmuuxgEHoLX6Kqx+yXqqBANsgCtit4FWQAEkrNbpq7HSOmtwag5w57GrmlJBASEU18ADjUYb3ADTinIttsgSB1oJFfA63bduimuqKB1keqwUhoCSK374wbujvOSu4QG6UvxBRydcpKsav++Ca6G8A6Pr1x2kVMyHwsVxUALDq/krnrhPSOzXG1lUTIoffqGR7Goi2MAxbv6O2kEG56I7CSlRsEFKFVyovDJoIRTg7sugNRDGqCJzJgcKE0ywc0ELm6KBCCJo8DIPFeCWNGcyqNFE06ToAfV0HBRgxsvLThHn1oddQMrXj5DyAQgjEHSAJMWZwS3HPxT/QMbabI/iBCliMLEJKX2EEkomBAUCxRi42VDADxyTYDVogV+wSChqmKxEKCDAYFDFj4OmwbY7bDGdBhtrnTQYOigeChUmc1K3QTnAUfEgGFgAWt88hKA6aCRIXhxnQ1yg3BCayK44EWdkUQcBByEQChFXfCB776aQsG0BIlQgQgE8qO26X1h8cEUep8ngRBnOy74E9QgRgEAC8SvOfQkh7FDBDmS43PmGoIiKUUEGkMEC/PJHgxw0xH74yx/3XnaYRJgMB8obxQW6kL9QYEJ0FIFgByfIL7/IQAlvQwEpnAC7DtLNJCKUoO/w45c44GwCXiAFB/OXAATQryUxdN4LfFiwgjCNYg+kYMIEFkCKDs6PKAIJouyGWMS1FSKJOMRB/BoIxYJIUXFUxNwoIkEKPAgCBZSQHQ1A2EWDfDEUVLyADj5AChSIQW6gu10bE/JG2VnCZGfo4R4d0sdQoBAHhPjhIB94v/wRoRKQWGRHgrhGSQJxCS+0pCZbEhAAOw=="})=>{a={base64:a,path:t},t=await axios.post(e+"/.netlify/functions/upload",JSON.stringify(a));return t&&200==t.status&&t.data?t.data.image:null},uploadVibemapImage=async({hotspots_place_id:e,id:t,filename:a="image_generic",title:o="Image from User",size:n,src:i,url:s})=>{try{var r={hotspots_place_id:e,id:t,filename:a,title:o,size:n,src:i,url:s};return{status:"success",data:await axios.post(ApiUrl+"images/places/",r)}}catch(e){return{status:"error",error:e}}};exports.associate_badge=associate_badge,exports.challenge_badges_lookup=challenge_badges_lookup,exports.decodePlaces=decodePlaces,exports.displayHours=displayHours,exports.encodeCardIndex=encodeCardIndex,exports.fetchEvents=fetchEvents,exports.fetchPlacePicks=fetchPlacePicks,exports.fetchPlacesDetails=fetchPlacesDetails,exports.fetchPlacesFromIds=fetchPlacesFromIds,exports.fetchPlacesFromSearch=fetchPlacesFromSearch,exports.fetchPlacesFromSlugs=fetchPlacesFromSlugs,exports.filterList=filterList,exports.formatDateTime=formatDateTime,exports.formatPlaces=formatPlaces,exports.geLocationFromCity=geLocationFromCity,exports.getAPIDomain=getAPIDomain,exports.getAPIParams=getAPIParams,exports.getAllBoundaries=getAllBoundaries,exports.getBoundary=getBoundary,exports.getCardOptions=getCardOptions,exports.getCategoryMatch=getCategoryMatch,exports.getDatesFromRange=getDatesFromRange,exports.getEventOptions=getEventOptions,exports.getFullLink=getFullLink,exports.getMax=getMax,exports.getMin=getMin,exports.getRandomItem=getRandomItem,exports.getRecommendedVibes=getRecommendedVibes,exports.getTimeOfDay=getTimeOfDay,exports.getTopCategories=getTopCategories,exports.getTopTags=getTopTags,exports.getTopVibes=getTopVibes,exports.getWaveFromVibe=getWaveFromVibe,exports.graphToEvents=graphToEvents,exports.groupsToEvents=groupsToEvents,exports.in_bbox_helper=in_bbox_helper,exports.in_jls=in_jls,exports.in_neighborhood=in_neighborhood,exports.isClosedToday=isClosedToday,exports.isDateFormatYYYYMMDD=isDateFormatYYYYMMDD,exports.isOpen=isOpen,exports.matchLists=matchLists,exports.nearest_neighborhood=nearest_neighborhood,exports.nearest_places=nearest_places,exports.normalize=normalize,exports.normalize_all=normalize_all,exports.parseDateTime=parseDateTime,exports.rankVibes=rankVibes,exports.reducePlaceProperties=reducePlaceProperties,exports.scaleDensityArea=scaleDensityArea,exports.scaleDensityBonus=scaleDensityBonus,exports.scaleIconSize=scaleIconSize,exports.scaleMarker=scaleMarker,exports.scaleScore=scaleScore,exports.scaleSelectedMarker=scaleSelectedMarker,exports.scorePlaces=scorePlaces,exports.searchCities=searchCities,exports.searchPlacesByName=searchPlacesByName,exports.searchTags=searchTags,exports.shuffleTopPicks=shuffleTopPicks,exports.sortByArray=sortByArray,exports.sortByKey=sortByKey,exports.sortByPopularity=sortByPopularity,exports.sortNeighborhoodsByVibes=sortNeighborhoodsByVibes,exports.suggestPlacesByName=suggestPlacesByName,exports.toTitleCase=toTitleCase,exports.uploadImageKit=uploadImageKit,exports.uploadVibemapImage=uploadVibemapImage,exports.validate_check_in=validate_check_in,exports.vibesFromPlaces=vibesFromPlaces;
//# sourceMappingURL=helpers.js.map
